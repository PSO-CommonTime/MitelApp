{"icon":"other","settings":{"router":{"mode":"intelligent","animation":"off"},"theme":"default","push-notifications":{"android":{"enabled":false},"ios":{"enabled":false},"wp":{"enabled":false}},"loading-message":true},"name":"MFSA","version":"0.0.1","pages":[{"start":true,"name":"start_screen","config":[],"content":[{"name":"scrollable_start","type":"area","item-type":"scrollable","content":[{"name":"html_version","type":"content","item-type":"html","_auto_id_":"e884a489-7a12-484c-ab75-e923d84ce039","content":"<p style=\"font-size:8pt; text-align:right; width: 315px;\">{{'$store.variables.v_version_number'|store}}</p>","expressions":{}},{"name":"static_buttons","type":"area","item-type":"static","content":[{"name":"image_logo_top","type":"media","item-type":"image","fileName":"mitel_logo1.png","actions":[],"expressions":{},"$selected":false,"_auto_id_":"391fc51d-c18b-43cb-b143-df375c42f201"},{"name":"title_1","type":"content","item-type":"title","content":"<h1 class=\"headingGray\">Powering connections</h1>","expressions":{},"classes":"","$selected":false,"_auto_id_":"5cdb9ffe-d255-4891-905c-efe3336be111"},{"name":"image_logo_middle","type":"media","item-type":"image","fileName":"mitel_logo2.png","expressions":{},"$selected":false,"_auto_id_":"3c636a13-5e66-4eec-be02-e4a280df2718","actions":[]},{"name":"static_login","type":"area","item-type":"static","_auto_id_":"7583cdf2-e308-4017-b442-c2e0f3e7985c","content":[{"name":"text_login","type":"question","item-type":"text","label":"","required":false,"multiline":false,"debounce":250,"expressions":{},"left-icon":"fa-user","$selected":false,"actions":[{"event":"change","type":"set-variable","data":{"name":"v_user_name","value":"{{$store.pages.start_screen.text_login}}"},"_auto_id_":"a61ffe1a-d3e1-44c1-a679-d1ad68e43eb3"}],"_auto_id_":"da69b88d-d9d7-4662-8408-8d0a164b1806","validators":[]}],"expressions":{}},{"name":"static_password","type":"area","item-type":"static","_auto_id_":"3b0783a9-04f7-419b-b388-93742bb9e011","content":[{"name":"password_login","type":"question","item-type":"password","label":"","required":false,"left-icon":"fa-lock","expressions":{},"$selected":false,"actions":[],"_auto_id_":"60b6aaec-c66b-4639-a81d-3500318f37e2","validators":[]},{"name":"spinner","type":"content","item-type":"html","_auto_id_":"203918cb-dc34-4d34-92b6-56bf0a149116","content":"<div class=\"loadingspinner fa-pulse\"></div>","expressions":{"show":"$store.variables.loading_spinner == true"}}],"expressions":{}},{"name":"static_start","type":"area","item-type":"static","_auto_id_":"b7f332bd-163c-4b49-8d19-2d15af70ef49","content":[{"name":"button_start","type":"control","item-type":"button","content":"SIGN IN","theme":"default","expressions":{"disabled":"$store.variables.v_disable_startbutton == true"},"classes":"","actions":[{"event":"click","type":"inline-function","data":{"sync":true,"code":"var isOffline='onLine' in navigator && !navigator.onLine; \n\nif (isOffline)\n{\n \tcti.utils.callAction('show-notification', {\"options\": { \"schedule\": false, \"dynamic\": true }, \"name\": \"send_error\", \"title\": \"No Connection\", \"text\": \"No internet connection detected.\"});\n}\nelse\n{\n\tcti.utils.callAction(\"call-actionflow\", {\"name\": \"login_actions\"});\n}"},"_auto_id_":"8508d0db-0249-45d2-92ee-e307a3dedf3d"}],"$selected":false,"_auto_id_":"b8fb7b1a-8f75-4e1b-910b-94f67df6da7a"}],"expressions":{}}],"expressions":{},"$selected":false,"_auto_id_":"7f2c2400-f2a3-4a43-bc3a-0157d15cf119"}],"expressions":{},"$selected":false,"_auto_id_":"8d992a66-cf63-4ac1-8da3-b465d8dda759"}],"$hover":false},{"name":"notifications","config":[{"name":"On-Load Event","type":"event","item-type":"onload","_auto_id_":"5b428c32-6d3a-4515-bc75-24890cdc2798","actions":[{"event":"onload","type":"set-variable","data":{"name":"loading_spinner","value":"false"},"_auto_id_":"f3132f09-cfd7-4a13-b6ac-3f52b6beaa71"},{"event":"onload","type":"set-variable","data":{"name":"v_disable_startbutton","value":"false"},"_auto_id_":"feaea87a-30d4-4f04-94d9-82017e4233ba"}]},{"name":"On-Loaded Event","type":"event","item-type":"onloaded","_auto_id_":"291e6293-6054-4997-8b8f-62492f7dfa9e","actions":[{"event":"onloaded","type":"inline-function","data":{"sync":true,"code":"var tmp = cti.store.variables.v_json_jobs.filter(function check(obj){if (obj.status.indexOf('In Progress') >= 0) {return true;}}); \n\nif (tmp.length > 0)\n{\n \tcti.store.variables.v_in_progress = true; \n}\nelse\n{\n \tcti.store.variables.v_in_progress = false; \n}"},"_auto_id_":"05ce28d6-6c21-4f36-9e14-4f1ec4abebf9"}]}],"content":[{"name":"title_bar_2","type":"navigation","item-type":"title-bar","content":[{"name":"nav_button_left","type":"control","item-type":"button","_auto_id_":"d53e35c9-8198-4739-8f11-777967ca1af4","content":"","theme":"default","actions":[],"expressions":{}},{"name":"title_bluewithwhite","type":"content","item-type":"title","content":"<h1 class=\"bluewithwhite\">Notifications</h1>","expressions":{},"$selected":false,"_auto_id_":"08b22eb3-87e6-473b-82e8-ca4ac3e9fd36"},{"name":"nav_button_right","type":"control","item-type":"button","content":"","$selected":false,"theme":"default","right-icon":"fa-sign-out","expressions":{},"actions":[{"event":"click","type":"set-variable","data":{"name":"v_logging_out","value":"true"},"_auto_id_":"c76489a4-abdb-4792-bf51-26ce8e0b0866"},{"event":"click","type":"xmpp-logout","data":{"name":"xmpp_1"},"_auto_id_":"955bacba-b686-4655-b3e0-636e0f958379"},{"event":"click","type":"go-to-page","data":"start_screen","_auto_id_":"0b83ddf8-0ebe-41a3-b476-242f6041bcc9"},{"event":"click","type":"call-function","data":{"name":"f_cleardata"},"_auto_id_":"d7b12a90-bc2b-4085-a01e-4c4df6e0dd03"}],"_auto_id_":"5fd75bd4-25af-439e-b6ca-ab8c7235cb6a"}],"extends":{"type":"area","item-type":"row"},"expressions":{},"$selected":false,"_auto_id_":"076e32c7-2e0c-4606-aa4e-da612585f7ea"},{"name":"scrollable_grid","type":"area","item-type":"scrollable","content":[{"name":"html_jobs_header","type":"content","item-type":"html","content":"<div style=\" width:620px; height: 10px; position: relative; background-color: #F3F3F3; font-size: 10pt; padding-left: 5px;\">\n<span style=\"display:inline-block; width: 65px; color: #9AA0A5; font-weight: bold; top: 7px; position: relative;\">STATUS</span>\n<span style=\"display:inline-block; width: 81px; color: #9AA0A5; font-weight: bold; top: 7px; position: relative;\">NUMBER</span>\n<span style=\"display:inline-block; width: 42px; color: #9AA0A5; font-weight: bold; top: 7px; position: relative;\">TYPE</span>\n<span style=\"display:inline-block; width: 121px; color: #9AA0A5; font-weight: bold; top: 7px; position: relative;\">CUSTOMER</span>\n<span style=\"display:inline-block; width: 119px; color: #9AA0A5; font-weight: bold; top: 7px; position: relative;\">TARGET</span>\n<span style=\"display:inline-block; width: 23px; color: #9AA0A5; font-weight: bold; top: 7px; position: relative;\">RS</span>\n<span style=\"display:inline-block; width: 79px; color: #9AA0A5; font-weight: bold; top: 7px; position: relative;\">POST CODE</span>\n<span style=\"display:inline-block; width: 58px; color: #9AA0A5; font-weight: bold; top: 7px; position: relative;\">OPERATION</span>\n</div>","expressions":{},"$selected":false,"_auto_id_":"b4d328d6-a1ba-44ce-8d33-1eb2e838b1b0"},{"name":"list_jobs","type":"content","item-type":"list","title":"List","edit":false,"search":false,"row":"<span style=\"display:inline-block; width: 63px;\">{{$data.$item.status}}</span>\n<span style=\"display:inline-block; width: 83px;\">{{$data.$item.notification_no}}</span>\n<span style=\"display:inline-block; width: 41px;\">{{$data.$item.notification_type}}</span>\n<span style=\"display:inline-block; width: 120px;\">{{$data.$item.customer_name}}</span>\n<span style=\"display:inline-block; width:120px;\">{{$data.$item.restore_req_date.substr(6,2)}}/{{$data.$item.restore_req_date.substr(4,2)}}/{{$data.$item.restore_req_date.substr(0,4)}} {{$data.$item.restore_req_time.substr(0,2)}}:{{$data.$item.restore_req_time.substr(2,2)}}</span>\n<span style=\"display:inline-block; width: 22px;\">{{$data.$item.restore_required}}</span>\n<span style=\"display:inline-block; width: 80px;\">{{$data.$item.postcode}}</span>\n<span style=\"display:inline-block; width: 40px;\">{{$data.$item.operation}}</span>","classes":"","content":[],"expressions":{},"model":"$store.variables.v_json_jobs","theme":"bootstrap","actions":[{"event":"click","type":"inline-function","data":{"sync":true,"code":"cti.store.variables.v_current_job_index = $data.$item.$index ;\n\ncti.store.variables.v_work_instruction = \"\";\nif (cti.store.variables.v_json_work_instructions != null)\n{\n  var items = cti.store.variables.v_json_work_instructions;\n  var pmorder = cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].pmorder;\n  var operation = cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].operation;\n  var engineer = cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].engineer;\n  var task = cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].task;\n  for(var item, i=0; item=items[i++];){\n    if (pmorder == item.pmorder && operation == item.operation && engineer == item.engineer && task == item.task){\n        cti.store.variables.v_work_instruction = item.work_instruction;\n    }\n  }  \n}\n\ncti.store.variables.v_notes = \"\";\nif (cti.store.variables.v_json_notes != null)\n{\n  var items = cti.store.variables.v_json_notes;\n  var pmorder = cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].pmorder;\n  var operation = cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].operation;\n  var engineer = cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].engineer;\n  var task = cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].task;\n  for(var item, i=0; item=items[i++];){\n    if (pmorder == item.pmorder && operation == item.operation && engineer == item.engineer && task == item.task){\n        cti.store.variables.v_notes = item.note_text;\n    }\n  }  \n}\n\ncti.store.variables.v_json_history_jobs = [];\nif (cti.store.variables.v_json_all_history_jobs != null)\n{\n  var items = cti.store.variables.v_json_all_history_jobs;\n  var pmorder = cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].pmorder;\n  var operation = cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].operation;\n  var engineer = cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].engineer;\n  var task = cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].task;\n  for(var item, i=0; item=items[i++];){\n    if (pmorder == item.pmorder && operation == item.operation && engineer == item.engineer && task == item.task){\n        cti.store.variables.v_json_history_jobs.push(item);\n    }\n  }  \n}\n\ncti.store.variables.v_json_other_jobs = [];\nif (cti.store.variables.v_json_all_other_jobs != null)\n{\n  var items = cti.store.variables.v_json_all_other_jobs;\n  var pmorder = cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].pmorder;\n  var operation = cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].operation;\n  var engineer = cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].engineer;\n  var task = cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].task;\n  for(var item, i=0; item=items[i++];){\n    if (pmorder == item.pmorder && operation == item.operation && engineer == item.engineer && task == item.task){\n        cti.store.variables.v_json_other_jobs.push(item);\n    }\n  }  \n}\n\n$success($data);"},"_auto_id_":"78be17fa-c849-4913-8023-b7bd2fed18d3"},{"name":"go_to_page_1","event":"click","type":"go-to-page","data":"notification_details","_auto_id_":"8dc00790-abda-4638-9eaa-d152a3fb121d"}],"$selected":false,"_auto_id_":"c6bff3dc-81a9-420f-8006-bc395bc1787f"}],"expressions":{},"$selected":false,"_auto_id_":"e8c9de23-a49f-4d06-8961-644fc867aeb5"}],"start":false,"$hover":false},{"name":"notification_details","config":[],"content":[{"name":"title_bar_2","type":"navigation","item-type":"title-bar","content":[{"name":"nav_button_left","type":"navigation","item-type":"nav-button","content":"","extends":{"type":"control","item-type":"button"},"actions":[{"event":"click","type":"go-to-page","data":"notifications","_auto_id_":"1cf39b6e-40d9-48a8-be4a-962dbd74fe81"}],"expressions":{},"theme":"default","left-icon":"fa-list","_auto_id_":"07bc3a34-3fcc-4ea5-a4ea-80ac806ed8b6"},{"name":"title_bluewithwhite","type":"content","item-type":"title","content":"<h1 class=\"bluewithwhite\">Notification Details</h1>","expressions":{},"_auto_id_":"23fdedb7-8388-4ed1-88e0-80f4fcc6fcaa"},{"name":"nav_button_right","type":"navigation","item-type":"nav-button","content":"","extends":{"type":"control","item-type":"button"},"actions":[{"event":"click","type":"go-to-page","data":"","_auto_id_":"ef6176d2-b832-492f-b615-9c9f771ed9e9"}],"expressions":{},"theme":"default","_auto_id_":"a817136e-d3dc-4bb8-899f-a9e6d18a87ee"}],"extends":{"type":"area","item-type":"row"},"expressions":{},"_auto_id_":"9eb8db1a-418f-4531-8121-277f2dda5cd4"},{"name":"static_tab","type":"area","item-type":"static","content":[{"name":"button_tab_info","type":"control","item-type":"button","content":"INFO","theme":"default","expressions":{},"actions":[{"name":"go_to_page_1","event":"click","type":"go-to-page","data":"work_instructions","_auto_id_":"ea7e6c8b-02cc-4b1d-928d-22c6b306cf9d"}],"classes":"tabButtons","_auto_id_":"590ac271-405e-44c9-b276-aaae5197e834"},{"name":"button_tab_onroute","type":"control","item-type":"button","content":"ON ROUTE","theme":"default","expressions":{"show":"$store.variables.v_json_jobs[$store.variables.v_current_job_index].viewed_wi == \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].viewed_notes == \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].sent_onroute != \"1\" && $store.variables.v_in_progress == false"},"actions":[{"name":"go_to_page_1","event":"click","type":"go-to-page","data":"on_route_entry","_auto_id_":"2f4c2467-c000-4038-83d1-53abd24f382b"}],"classes":"tabButtons","_auto_id_":"a258e514-242e-4fb8-b7bd-53df83d5b8c0"},{"name":"button_tab_onsite","type":"control","item-type":"button","content":"ON SITE","theme":"default","expressions":{"show":"$store.variables.v_json_jobs[$store.variables.v_current_job_index].viewed_wi == \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].viewed_notes == \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].sent_onroute == \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].sent_onsite != \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].status == \"In Progress\""},"actions":[{"event":"click","type":"go-to-page","data":"on_site","_auto_id_":"de7fd153-782e-403a-97b4-0666912e2657"}],"classes":"tabButtons","_auto_id_":"adffd0ed-89ee-45af-b868-36aeba46d8ac"},{"name":"button_tab_parts","type":"control","item-type":"button","content":"PARTS","theme":"default","expressions":{"show":"$store.variables.v_json_jobs[$store.variables.v_current_job_index].viewed_wi == \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].viewed_notes == \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].sent_onroute == \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].sent_onsite == \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].notification_type.trim() == \"MNT\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].status == \"In Progress\""},"actions":[{"name":"go_to_page_1","event":"click","type":"go-to-page","data":"order_parts","_auto_id_":"59c973db-b3bb-4816-88d8-e5ec8e7e1654"}],"classes":"tabButtons","_auto_id_":"0a5df25e-da0e-401c-bb1a-f74280d0e54d"},{"name":"button_tab_notes","type":"control","item-type":"button","content":"NOTES","theme":"default","expressions":{"show":"$store.variables.v_json_jobs[$store.variables.v_current_job_index].viewed_wi == \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].viewed_notes == \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].sent_onroute == \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].sent_onsite == \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].sent_notes != \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].status == \"In Progress\""},"actions":[{"name":"go_to_page_1","event":"click","type":"go-to-page","data":"enter_notes","_auto_id_":"eebf5f63-6afe-4121-adbc-b0a43ea87e0f"}],"classes":"tabButtons","_auto_id_":"0843879b-1924-4375-89b3-e814e8982b19"},{"name":"button_tab_leave","type":"control","item-type":"button","_auto_id_":"0909ce85-7de4-4a7e-b7e3-e653a76eb98b","content":"LEAVE","theme":"default","expressions":{"show":"$store.variables.v_json_jobs[$store.variables.v_current_job_index].viewed_wi == \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].viewed_notes == \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].sent_onroute == \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].sent_onsite == \"1\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].status == \"In Progress\" && $store.variables.v_json_jobs[$store.variables.v_current_job_index].sent_notes == \"1\""},"classes":"tabButtons","actions":[{"event":"click","type":"inline-function","data":{"sync":true,"code":"cti.store.variables.v_json_object_filtered = [];\ncti.store.variables.v_json_cause_filtered = [];\ncti.store.variables.v_json_decision_filtered = [];\n\nif (cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].notification_type.trim() == 'MNT')\n{\n\tcti.store.variables.v_json_object_filtered  = cti.store.variables.v_json_object.filter(function check(obj){if (obj.data.indexOf(cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].catalogue.trim()) >= 0) {return true;}})\n    if (cti.store.variables.v_json_object_filtered.length == 0)\n    {\n     \t cti.store.variables.v_json_object_filtered = cti.store.variables.v_json_object;\n    }\n  \n\tcti.store.variables.v_json_cause_filtered  = cti.store.variables.v_json_cause.filter(function check(obj){if (obj.data.indexOf(cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].catalogue.trim()) >= 0) {return true;}})\n    if (cti.store.variables.v_json_cause_filtered.length == 0)\n    {\n     \t cti.store.variables.v_json_cause_filtered = cti.store.variables.v_json_cause;\n    }\n  \n\tcti.store.variables.v_json_decision_filtered  = cti.store.variables.v_json_decision.filter(function check(obj){if (obj.data.indexOf(cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].catalogue.trim()) >= 0) {return true;}})\n    if (cti.store.variables.v_json_decision_filtered.length == 0)\n    {\n     \t cti.store.variables.v_json_decision_filtered = cti.store.variables.v_json_decision;\n    }  \n}\n\nif (cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].restore_required == 'Y')\n{\n  cti.utils.callAction('go-to-page', 'restore_service');\n}\nelse if (cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].restore_required == 'N')\n{\n  cti.utils.callAction('go-to-page', 'leave_site');\n}"},"_auto_id_":"7d2179c5-6890-4466-b321-57154630af37"}]}],"expressions":{},"_auto_id_":"2602a231-c78a-4f05-839d-3a1e9e6fcee6"},{"name":"scrollable_main","type":"area","item-type":"scrollable","content":[{"name":"static_summary","type":"area","item-type":"scrollable","_auto_id_":"f341563e-56c5-4d3d-9a51-5aeaadfe628c","content":[{"name":"html_info_summary","type":"content","item-type":"html","content":"<style type=\"text/css\">\n.tg11  {border-collapse:collapse;border-spacing:0;border:none;width:96%;margin-left:2%;font-family:'Ubuntu', sans-serif;}\n.tg11 td {padding:2px 0px;border-style:solid;border:1px;width:50%}\n.tg11 .tdleft1 {text-align:left;font-size:16px;font-weight:bold;}\n.tg11 .tdleft2 {text-align:left;font-size:16px;}\n.tg11 .tdright1 {text-align:right;font-size:16px;font-weight:bold;}\n.tg11 .tdright2 {text-align:right;font-size:14px;padding:0px 2px;}\n.tg11 .tdright3{text-align:right;font-size:16px;}\n</style>\n\n<table class=\"tg11\">\n  <tr><td></td><td></td></tr>\n  <tr>\n    <td class=\"tdleft1\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].customer_name'|store}}\t\t</td>\n    <td class=\"tdright1\">#{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].notification_no'|store}}</td>\n  </tr>\n  <tr><td></td><td></td></tr>\n  <tr>\n    <td></td>\n    <td class=\"tdright2\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].address1'|store}}\t\t</td>\n  </tr>\n  <tr>\n    <td></td>\n    <td class=\"tdright2\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].address2'|store}}\t\t</td>\n  </tr>\n  <tr>\n    <td></td>\n    <td class=\"tdright2\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].address3'|store}}\t\t</td>\n  </tr>\n  <tr>\n    <td></td>\n    <td class=\"tdright2\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].city'|store}}\t\t</td>\n  </tr>  \n  <tr>\n    <td></td>\n    <td class=\"tdright2\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].postcode'|store}}\t\t</td>\n  </tr>\n  <tr><td></td><td></td></tr>\n  <tr>\n    <td class=\"tdleft2\">Type: {{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].catalogue'|store}}</td>\n    <td class=\"tdright3\">PPP: {{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].ppp_product_description'|store}}</td>\n  </tr>\n  <tr><td></td><td></td></tr>\n</table>\n<br /><br />","expressions":{},"_auto_id_":"53273516-3392-4aa4-925a-a329a1c64e44"}],"expressions":{}},{"name":"static_detail","type":"area","item-type":"scrollable","_auto_id_":"69cb80ae-6c69-420d-88ef-aebdb32a0260","content":[{"name":"html_info_detail","type":"content","item-type":"html","content":"<style type=\"text/css\">\n.tg2  {border-collapse:collapse;border-spacing:0;border:none;width:96%;font-family:'Ubuntu', sans-serif;margin-left:2%;}\n.tg2 td {padding:6px 2px;border-style:solid;border:none;width:50%}\n.tg2 .tdleft1 {text-align:left;font-size:16px;font-weight:bold;}\n.tg2 .tdleft2 {text-align:left;font-size:14px;}\n.tg2 .tdright1 {text-align:right;font-size:14px;}\n</style>\n\n</script> \n<table class=\"tg2\">\n  <tr><td></td><td></td></tr>\n  <tr>\n    <td class=\"tdleft1\">Details</td>\n    <td></td>\n  </tr>\n  <tr><td></td><td></td></tr>\n  <tr>\n    <td class=\"tdleft2\">Contact Name:</td>\n    <td class=\"tdright1\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].contact_name'|store}}</td>\n  </tr>\n  <tr>\n    <td class=\"tdleft2\">Contact Tel:</td>\n    <td class=\"tdright1\"><a href=\"tel:{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].contact_tel_no'|store}}\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].contact_tel_no'|store}}</td>\n  </tr>\n  <tr>\n    <td class=\"tdleft2\">Customer Ref:</td>\n    <td class=\"tdright1\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].customer_reference'|store}}</td>\n  </tr>\n  <tr>\n    <td class=\"tdleft2\">Response Target:</td>\n    <td class=\"tdright1\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].response_dttm'|store}}</td>\n  </tr>\n  <tr>\n    <td class=\"tdleft2\">Restore Target:</td>\n    <td class=\"tdright1\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].restore_req_date.substring(6,8)+\"/\"+$store.variables.v_json_jobs[$store.variables.v_current_job_index].restore_req_date.substring(4,6)+\"/\"+$store.variables.v_json_jobs[$store.variables.v_current_job_index].restore_req_date.substring(0,4)'|store}} {{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].restore_req_time.substring(0,2)+\":\"+$store.variables.v_json_jobs[$store.variables.v_current_job_index].restore_req_time.substring(2,4)'|store}}</td>\n  </tr>\n</table>","expressions":{},"_auto_id_":"03a0fec9-065f-4dcb-9773-73b68c83a399"}],"expressions":{}}],"expressions":{},"_auto_id_":"0733a25f-1b0d-477a-8bda-b95c985f55b9"}],"start":false,"$hover":false},{"name":"work_instructions","config":[{"name":"On-Loaded Event","type":"event","item-type":"onloaded","_auto_id_":"121cc22b-da9a-497c-ba72-aad081b3eaf1","actions":[{"event":"onloaded","type":"inline-function","data":{"sync":true,"code":"cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].viewed_wi = '1';"},"_auto_id_":"574d207e-5cef-4968-a5ee-d24901456411"}]}],"content":[{"name":"title_bar_2","type":"navigation","item-type":"title-bar","content":[{"name":"nav_button_left","type":"control","item-type":"button","content":"","theme":"default","expressions":{},"actions":[{"name":"go_to_page_1","event":"click","type":"go-to-page","data":"notification_details","_auto_id_":"f88aa93c-58e6-4b20-8cf3-0fa50dd8909c"}],"$selected":false,"_auto_id_":"e9264491-e3b0-4117-9489-e3a515830531"},{"name":"title_bluewithwhite","type":"content","item-type":"title","content":"<h1 class=\"bluewithwhite\">Work Instructions</h1>","expressions":{},"$selected":false,"_auto_id_":"efb7729f-47b2-47d2-8178-3a51c26d0554"},{"name":"nav_button_right","type":"control","item-type":"button","content":"","theme":"default","expressions":{},"right-icon":"fa-chevron-right","actions":[{"name":"go_to_page_1","event":"click","type":"go-to-page","data":"notes","_auto_id_":"78dd8793-f6fc-439d-b995-8df204566785"}],"$selected":false,"_auto_id_":"d3c07a14-4711-4c08-9072-a5a20e2f739a"}],"extends":{"type":"area","item-type":"row"},"expressions":{},"$selected":false,"_auto_id_":"d3969202-ae32-421c-a321-5b7736064bd2"},{"name":"static_tab","type":"area","item-type":"static","content":[{"name":"button_tab_wknotes","type":"control","item-type":"button","content":"NOTES","theme":"default","expressions":{},"actions":[{"event":"click","type":"go-to-page","data":"notes","_auto_id_":"f4fb7c96-4392-4a60-867c-9740ea036939"}],"classes":"tabButtons","$selected":false,"_auto_id_":"41538a57-a580-4985-8920-5240c94dc0aa"},{"name":"button_tab_other","type":"control","item-type":"button","content":"OTHER","theme":"default","expressions":{},"classes":"tabButtons","$selected":false,"actions":[{"event":"click","type":"set-variable","data":{"name":"v_from_page","value":"work_instructions"},"_auto_id_":"01e0024c-edc0-428a-bbbc-fdfc5d7d3446"},{"event":"click","type":"go-to-page","data":"other_jobs","_auto_id_":"96914e1f-18ec-4fa7-9073-e81e1a7ef5b4"}],"_auto_id_":"00491cf8-34ca-4e1f-a0ba-eb594eec5aa4"},{"name":"button_tab_history","type":"control","item-type":"button","content":"HISTORY","theme":"default","expressions":{},"classes":"tabButtons","$selected":false,"actions":[{"event":"click","type":"set-variable","data":{"name":"v_from_page","value":"work_instructions"},"_auto_id_":"d60b8850-7868-40ec-8b0a-c8cb1ffc9613"},{"event":"click","type":"go-to-page","data":"history","_auto_id_":"3f64e7d7-8ab6-4632-b5e4-f2aca1a86ae7"}],"_auto_id_":"6167e8aa-10cd-41a1-a9ee-29092ff1d076"}],"expressions":{},"$selected":false,"_auto_id_":"cfcb5a6d-31fb-48df-a743-36b24f04ab76"},{"name":"scrollable_select","type":"area","item-type":"scrollable","content":[{"name":"html_4","type":"content","item-type":"html","content":"<style type=\"text/css\">\n.dv1  {font-family:'Ubuntu', sans-serif;font-size:14px;line-height:22px;}\n</style>\n<div class=\"dv1\" ng-bind-html=\"'$store.variables.v_work_instruction'|store\"></div>","$selected":false,"_auto_id_":"8db6e324-bf7b-40db-9000-3fd44642a48e"}],"$selected":false,"_auto_id_":"eb91fd62-483e-4561-bcfd-bae2463597b3","expressions":{}}],"start":false,"$hover":false},{"name":"notes","config":[{"name":"On-Loaded Event","type":"event","item-type":"onloaded","_auto_id_":"2b48badc-2ecb-4e59-bfd4-f0190a320fd2","actions":[{"event":"onloaded","type":"inline-function","data":{"sync":true,"code":"cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].viewed_notes = '1';"},"_auto_id_":"8fb60395-fbc7-459c-9c7d-b827fbf0763f"}]}],"content":[{"name":"title_bar_2","type":"navigation","item-type":"title-bar","content":[{"name":"nav_button_left","type":"control","item-type":"button","content":"","theme":"default","actions":[{"name":"go_to_page_1","event":"click","type":"go-to-page","data":"work_instructions","_auto_id_":"52ccb911-1212-48ad-9eb9-f71826b048a1"}],"expressions":{},"$selected":false,"_auto_id_":"3e1b9053-4413-4282-96ce-3a1e7b491ec8"},{"name":"title_bluewithwhite","type":"content","item-type":"title","content":"<h1 class=\"bluewithwhite\">Notes</h1>","expressions":{},"$selected":false,"_auto_id_":"11070319-3671-466c-a054-93dd2a52599a"},{"name":"nav_button_right","type":"navigation","item-type":"nav-button","content":"","extends":{"type":"control","item-type":"button"},"actions":[{"event":"click","type":"go-to-page","data":"notification_details","_auto_id_":"a7a6b2ac-594c-4378-b8ad-eacc56afa752"}],"expressions":{},"theme":"default","right-icon":"fa-info-circle","$selected":false,"_auto_id_":"1d81a5f8-42c2-43ed-af64-4b9d56a39bf4"}],"extends":{"type":"area","item-type":"row"},"expressions":{},"$selected":false,"_auto_id_":"a35c90f5-7898-42b3-baa3-8850f6973e2f"},{"name":"static_tab","type":"area","item-type":"static","content":[{"name":"button_tab_wrkins","type":"control","item-type":"button","content":"INSTRUCTION","theme":"default","expressions":{},"classes":"tabButtons","actions":[{"event":"click","type":"go-to-page","data":"work_instructions","_auto_id_":"07c95a24-b691-4b64-8879-864e529e712e"}],"$selected":false,"_auto_id_":"ca894a04-c8fd-4f61-bc5a-f1f741e35113"},{"name":"button_tab_other","type":"control","item-type":"button","content":"OTHER","theme":"default","expressions":{},"classes":"tabButtons","$selected":false,"actions":[{"event":"click","type":"set-variable","data":{"name":"v_from_page","value":"notes"},"_auto_id_":"3b52e916-5716-492d-b0cf-c7a28e502876"},{"event":"click","type":"go-to-page","data":"other_jobs","_auto_id_":"352c3d4f-0406-405f-a793-134290c11131"}],"_auto_id_":"3862dfec-e2a1-43a2-8cf1-a7b13734b6ce"},{"name":"button_tab_history","type":"control","item-type":"button","content":"HISTORY","theme":"default","expressions":{},"classes":"tabButtons","$selected":false,"actions":[{"event":"click","type":"set-variable","data":{"name":"v_from_page","value":"notes"},"_auto_id_":"c718bfdd-4c92-42c6-b28b-897423b6f35f"},{"event":"click","type":"go-to-page","data":"history","_auto_id_":"c5800bde-ecf4-4e7c-82f4-cc54592a529b"}],"_auto_id_":"dd8b456f-6a70-4c00-8303-5fc7d8e9bef1"}],"expressions":{},"$selected":false,"_auto_id_":"3dda9212-2a4c-4513-b678-e8157b4d32b6"},{"name":"scrollable_select","type":"area","item-type":"scrollable","content":[{"name":"html_5","type":"content","item-type":"html","content":"<style type=\"text/css\">\n.dv  {font-family:'Ubuntu', sans-serif;font-size:14px;line-height:22px;}\n</style>\n<div class=\"dv\" ng-bind-html=\"'$store.variables.v_notes'|store\"></div>","$selected":false,"_auto_id_":"c4a9abd2-5374-4fc0-80ff-bff9a418fe7f","expressions":{}}],"$selected":false,"_auto_id_":"4ba82663-1cc4-4b58-afb5-682abff2dd8f","expressions":{}}],"$hover":false},{"name":"on_route_entry","config":[{"name":"On-Loaded Event","type":"event","item-type":"onloaded","_auto_id_":"f109bc18-f167-43be-9e12-c8fc5d4f1641","actions":[{"event":"onloaded","type":"inline-function","data":{"sync":true,"code":"var now = new Date;\nvar nowYear = now.getFullYear().toString();\nvar nowMonth = (('0'+(now.getMonth()+1).toString()).slice(-2));\nvar nowDate = (('0'+now.getDate().toString()).slice(-2));\nvar nowHour = (('0'+now.getHours().toString()).slice(-2));\nvar nowMinute = (('0'+now.getMinutes().toString()).slice(-2));\nvar monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\ncti.store.pages.on_route_entry.date_onroute = nowYear + '-' + nowMonth + '-' + nowDate;\ndocument.querySelector('#date_onroute input[type=\"text\"]').value = nowDate + ' ' + monthNames[now.getMonth()] + ', ' + nowYear;\ndocument.querySelector('input[id=\"id_time_onroute\"]').value = nowHour + ':' + nowMinute;\ncti.store.variables.v_time = nowHour + ':' + nowMinute;"},"_auto_id_":"0f6793d7-6ad1-4250-9e79-53416449a649"}]}],"content":[{"name":"title_bar_2","type":"navigation","item-type":"title-bar","content":[{"name":"nav_button_left","type":"navigation","item-type":"nav-button","content":"","extends":{"type":"control","item-type":"button"},"actions":[{"event":"click","type":"go-to-page","data":"notification_details","_auto_id_":"d5b02794-0a36-46db-8801-170f3cacad55"}],"expressions":{},"theme":"default","left-icon":"fa-info-circle","$selected":false,"_auto_id_":"29627085-537e-487a-9095-5b72aad279f7"},{"name":"title_bluewithwhite","type":"content","item-type":"title","content":"<h1 class=\"bluewithwhite\">On Route Entry</h1>","expressions":{},"$selected":false,"_auto_id_":"0b8eeec8-270d-4004-b2ed-3b7d2416c637"},{"name":"nav_button_right","type":"control","item-type":"button","content":"","theme":"default","right-icon":"fa-send-o","expressions":{"disabled":"$store.pages.on_route_entry.date_onroute == null ||  $store.variables.v_time == \"\""},"actions":[{"name":"go_to_page_1","event":"click","type":"go-to-page","data":"notification_details","_auto_id_":"dd4b4086-dc34-4b8d-a834-b79e1124b946"},{"type":"if","data":{},"_auto_id_":"b4b5872e-2c3b-4825-9b9d-0e136b00475d","operations":[{"type":"value","content":"{{$store.xmpp.xmpp_1.connection_status}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"connected","$selected":false}]},{"name":"inline_function_1","event":"click","type":"inline-function","data":{"code":"cti.utils.callAction('call-function', {\"name\":\"f_senddata\",\"params\":{\"operationName\":\"onRoute\"}});"},"_auto_id_":"d69f611f-663b-49ad-9bcf-9aa8dc98052b","actions":[]},{"type":"otherwise","data":{},"_auto_id_":"2bd49d7a-f47c-415d-a346-76cccc08a347"},{"event":"click","type":"xmpp-login","data":{"name":"xmpp_1","username":"{{$store.pages.start_screen.text_login}}@mitel.com","password":"{{$store.pages.start_screen.password_login}}"},"_auto_id_":"a11520ac-8920-4399-a6c1-ef481a3e1f55"},{"type":"if","data":{},"_auto_id_":"b5d68528-4a1f-436f-8f13-11d4a2d8e270","operations":[{"type":"value","content":"{{$store.xmpp.xmpp_1.last_auth_status}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"success","$selected":false}]},{"event":"click","type":"inline-function","data":{"sync":true,"code":"cti.utils.callAction('call-function', {\"name\":\"f_senddata\",\"params\":{\"operationName\":\"onRoute\"}});"},"_auto_id_":"67f88f11-8598-419a-8e1e-87675c7df8cd"},{"type":"otherwise","data":{},"_auto_id_":"9d5cb02d-4773-4dda-aa20-fa8dad7a5b2c"},{"event":"click","type":"inline-function","data":{"sync":true,"code":"cti.utils.callAction('show-notification', {\"options\": { \"schedule\": false, \"dynamic\": true }, \"name\": \"send_error\", \"title\": \"Connection Error\", \"text\": \"Failed to establish connection to send data.\" });"},"_auto_id_":"1e50ab58-695b-4b08-97ad-70e38d3e6ca9"},{"type":"end-if","data":{},"_auto_id_":"dae01352-4611-47ba-b57b-0576c32ef435"},{"type":"end-if","data":{},"_auto_id_":"7a031211-605e-43ac-9a97-9d457f232ceb"}],"$selected":false,"_auto_id_":"41b92aaf-9cd0-4003-bb8c-2d6658546b18"}],"extends":{"type":"area","item-type":"row"},"expressions":{},"$selected":false,"_auto_id_":"5c6da6d0-cd0f-4b2c-bd74-1a21f4afa87b"},{"name":"scrollable_main","type":"area","item-type":"scrollable","content":[{"name":"static_summary","type":"area","item-type":"scrollable","_auto_id_":"1b4bb586-f66b-4cc5-9ed1-0688ed0d5e22","content":[{"name":"html_summary","type":"content","item-type":"html","content":"<style type=\"text/css\">\n.tg1  {border-collapse:collapse;border-spacing:0;border:none;width:96%;margin-left:2%;font-family:'Ubuntu', sans-serif;}\n.tg1 td {padding:2px 0px;border-style:solid;border:1px;width:50%}\n.tg1 .tdleft1 {text-align:left;font-size:16px;font-weight:bold;}\n.tg1 .tdleft2 {text-align:left;font-size:16px;}\n.tg1 .tdright1 {text-align:right;font-size:16px;font-weight:bold;}\n.tg1 .tdright2 {text-align:right;font-size:14px;padding:0px 2px;}\n.tg1 .tdright3{text-align:right;font-size:16px;}\n</style>\n\n<table class=\"tg1\">\n  <tr><td></td><td></td></tr>\n  <tr>\n    <td class=\"tdleft1\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].customer_name'|store}}\t\t</td>\n    <td class=\"tdright1\">#{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].notification_no'|store}}</td>\n  </tr>\n  <tr><td></td><td></td></tr>\n  <tr>\n    <td></td>\n    <td class=\"tdright2\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].address1'|store}}</td>\n  </tr>\n  <tr>\n    <td></td>\n    <td class=\"tdright2\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].address2'|store}}</td>\n  </tr>\n  <tr>\n    <td></td>\n    <td class=\"tdright2\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].address3'|store}}</td>\n  </tr>\n  <tr>\n    <td></td>\n    <td class=\"tdright2\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].city'|store}}\t\t</td>\n  </tr>  \n  <tr>\n    <td></td>\n    <td class=\"tdright2\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].postcode'|store}}</td>\n  </tr>\n  <tr><td></td><td></td></tr>\n  <tr>\n    <td class=\"tdleft2\">Type: {{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].catalogue'|store}}</td>\n    <td class=\"tdright3\">PPP: {{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].ppp_product_description'|store}}</td>\n  </tr>\n</table>","expressions":{},"$selected":false,"_auto_id_":"caf4ba92-3bb9-4628-8571-36e8453f156a"}],"expressions":{}},{"name":"static_dates","type":"area","item-type":"scrollable","_auto_id_":"194f0fc4-ba89-4853-a428-8ec3edec0773","content":[{"name":"date_onroute","type":"question","item-type":"date","label":"On Route Date: ","required":false,"message":"This is a required field","options":{"default":"","min":"","max":"current"},"validators":[],"expressions":{},"actions":[{"event":"change","type":"inline-function","data":{"sync":true,"code":"if (document.querySelector('#date_onroute input[type=\"text\"]').value != '')\n{\n\tvar dt = new Date(document.querySelector('#date_onroute input[type=\"text\"]').value); \n\tvar year = dt.getFullYear().toString();\n\tvar month = (dt.getMonth()+1).toString();\n\tvar date = dt.getDate().toString();\n\tvar pad = \"00\";\n\tcti.store.pages.on_route_entry.date_onroute = year + '-' + pad.substring(0, pad.length - month.length) + month + '-' + pad.substring(0, pad.length - date.length) + date;\t\n}"},"_auto_id_":"eb410e1b-a59d-41ae-8ff7-d0a190209ee2"}],"$selected":false,"left-icon":"fa-calendar","_auto_id_":"52c1b9cd-1564-4ca6-a494-4df1cfbf40c2"},{"name":"html_time_onroute","type":"content","item-type":"html","_auto_id_":"6c8c4633-cb9d-45c7-80a6-534a3fa78f5c","content":"<p style=\"font-weight: 700;\">On Route Time:</p>\n<div class=\"input-time-icon\"><span class=\"fa fa-clock-o\"></span>\n<input type=\"time\" name=\"time_onroute\" id=\"id_time_onroute\" oninput=\"window.setValue(id_time_onroute);\" /></div>","expressions":{}},{"name":"html_numbers","type":"content","item-type":"html","_auto_id_":"554089b2-d47f-4116-a200-212e8a0b8762","content":"<style type=\"text/css\">\n.tg1a  {border-collapse:collapse;border-spacing:0;border:none;width:99%;margin-left:0%;font-family:'Ubuntu', sans-serif;}\n.tg1a td {padding:0px 0px 20px 0px;border-style:solid;border:1px;width:50%}\n.tg1a .tdleft1 {text-align:left;font-size:14px;font-weight:bold;}\n.tg1a .tdright1 {text-align:right;font-size:14px;}\n</style>\n<table class=\"tg1a\">\n  <tr><td></td><td></td></tr>\n  <tr>\n    <td class=\"tdleft1\">Engineer Number:</td>\n    <td class=\"tdright1\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].engineer'|store}}</td>\n  </tr>\n  <tr>\n\t<td class=\"tdleft1\">Operation Number:</td>\n\t<td class=\"tdright1\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].operation'|store}}</td>\n  </tr>\n</table>","expressions":{}}],"expressions":{}}],"expressions":{},"$selected":false,"_auto_id_":"ba0a6875-b1e8-4a62-821f-355577eee8a1"}],"$hover":false},{"name":"order_parts","config":[],"content":[{"name":"title_bar_2","type":"navigation","item-type":"title-bar","content":[{"name":"nav_button_left","type":"navigation","item-type":"nav-button","content":"","extends":{"type":"control","item-type":"button"},"actions":[{"event":"click","type":"go-to-page","data":"notification_details","_auto_id_":"99baa512-1083-49a3-b52d-c82c688c1dd7"}],"expressions":{},"theme":"default","left-icon":"fa-info-circle","$selected":false,"_auto_id_":"f9a52b2b-36d1-4823-8b09-9d67dd5f9f2f"},{"name":"title_bluewithwhite","type":"content","item-type":"title","content":"<h1 class=\"bluewithwhite\">Order Parts</h1>","expressions":{},"$selected":false,"_auto_id_":"c2954ebf-1fec-481a-a65c-1b1338562501"},{"name":"nav_button_right","type":"control","item-type":"button","content":"","theme":"minimal","right-icon":"fa-chevron-right","actions":[{"name":"go_to_page_1","event":"click","type":"go-to-page","data":"add_parts","_auto_id_":"ae202cc2-e389-4a2e-8409-6a1e3625d4a9"}],"expressions":{},"$selected":false,"_auto_id_":"881f85b4-46b8-498f-a107-770e5a6a2d0d"}],"extends":{"type":"area","item-type":"row"},"expressions":{},"$selected":false,"_auto_id_":"45cbd56c-508c-483d-a8ad-e6d62879639e"},{"name":"scrollable_select","type":"area","item-type":"scrollable","content":[{"name":"select_delivery_tm","type":"question","item-type":"select","label":"Delivery Time: ","required":false,"options":[],"expressions":{},"validators":[],"actions":[],"$selected":false,"_auto_id_":"a107dae9-4e75-41c0-a38e-af895db4e22d","option-source":"$store.variables.v_json_deltime","label-property":"value","value-property":"data","searchable":true},{"name":"text_delivery_point","type":"question","item-type":"text","_auto_id_":"0a0acf09-287e-4fb4-9491-ead8a8ce9921","label":"Delivery Point: ","required":false,"multiline":false,"debounce":250,"expressions":{},"validators":[{"name":"delpnt_length","message":"Exceeded 25 character limit.","type":"expression","content":"$store.pages.order_parts.text_delivery_point.length <= 25"}]},{"name":"text_contact","type":"question","item-type":"text","_auto_id_":"02780284-83c7-4acd-9ce7-56e58884690e","label":"Contact:","required":false,"multiline":false,"debounce":250,"expressions":{},"validators":[{"name":"contact_length","message":"Exceeded 12 character limit.","type":"expression","content":"$store.pages.order_parts.text_contact.length <= 12"}]}],"expressions":{},"$selected":false,"_auto_id_":"1ae1d38d-71c9-4046-9101-385dfa69c497"}],"$hover":false},{"name":"add_parts","config":[],"content":[{"name":"title_bar_2","type":"navigation","item-type":"title-bar","content":[{"name":"nav_button_left","type":"navigation","item-type":"nav-button","content":"","extends":{"type":"control","item-type":"button"},"actions":[{"event":"click","type":"go-to-page","data":"order_parts","_auto_id_":"00bed7fd-4548-4643-bfab-64ba818cd408"}],"expressions":{},"theme":"default","left-icon":"fa-chevron-left","_auto_id_":"a5362ea8-37dd-47db-a1bf-01803daee1c4"},{"name":"title_bluewithwhite","type":"content","item-type":"title","content":"<h1 class=\"bluewithwhite\">Add Parts</h1>","expressions":{},"_auto_id_":"72cdc38f-055b-4cd4-afb0-007bf696ee1c"},{"name":"nav_button_right","type":"control","item-type":"button","_auto_id_":"a88c40c7-ed22-4fb5-9107-5adba60bd6e6","content":"","theme":"default","actions":[{"event":"click","type":"go-to-page","data":"notification_details","_auto_id_":"24027642-da8b-4c7a-8f96-18de9ac4b82d"},{"type":"if","data":{},"_auto_id_":"69c46528-d4d2-492e-ad1d-91cb22c72712","operations":[{"type":"value","content":"{{$store.xmpp.xmpp_1.connection_status}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"connected","$selected":false}]},{"event":"click","type":"inline-function","data":{"sync":true,"code":"cti.utils.callAction('call-function', {\"name\":\"f_senddata\",\"params\":{\"operationName\":\"addPart\"}});"},"_auto_id_":"c35a577c-f062-4d4a-89c6-2263d24b4f00"},{"type":"otherwise","data":{},"_auto_id_":"e8b93f89-93ee-4192-8706-58a7f7511830"},{"event":"click","type":"xmpp-login","data":{"name":"xmpp_1","username":"{{$store.pages.start_screen.text_login}}@mitel.com","password":"{{$store.pages.start_screen.password_login}}"},"_auto_id_":"dcaf3028-c658-4dde-9fb0-40fc057ee1ca"},{"type":"if","data":{},"_auto_id_":"e768dd59-11a4-4177-b22f-bc3defecca55","operations":[{"type":"value","content":"{{$store.xmpp.xmpp_1.last_auth_status}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"success","$selected":false}]},{"event":"click","type":"inline-function","data":{"sync":true,"code":"cti.utils.callAction('call-function', {\"name\":\"f_senddata\",\"params\":{\"operationName\":\"addPart\"}});"},"_auto_id_":"84ad1e95-f506-4ed0-b3b7-f14233fce7f0"},{"type":"otherwise","data":{},"_auto_id_":"c600fb22-3d19-4b5c-ac80-cfe33001d86e"},{"event":"click","type":"inline-function","data":{"sync":true,"code":"cti.utils.callAction('show-notification', {\"options\": { \"schedule\": false, \"dynamic\": true }, \"name\": \"send_error\", \"title\": \"Connection Error\", \"text\": \"Failed to establish connection to send data.\" });"},"_auto_id_":"bcc8edf9-5be5-48d3-ad89-8c1a9d8a86f0"},{"type":"end-if","data":{},"_auto_id_":"4af44139-cc6b-4669-b4de-798d88513708"},{"type":"end-if","data":{},"_auto_id_":"5bd0c505-4ff9-4f16-85cb-261959f26d24"}],"right-icon":"fa-send-o","expressions":{"disabled":"$store.pages.add_parts.number_qty <= 0 || $store.pages.add_parts.number_qty === undefined || $store.pages.add_parts.select_group == null || $store.pages.add_parts.select_part == null || $store.pages.add_parts.select_part_no == null || $store.pages.order_parts.select_delivery_tm == '' || $store.pages.order_parts.text_delivery_point === undefined || $store.pages.order_parts.text_delivery_point == ''"}}],"extends":{"type":"area","item-type":"row"},"expressions":{},"_auto_id_":"bed0e360-9dda-4a03-903e-c525f3c7d876"},{"name":"scrollable_select","type":"area","item-type":"scrollable","content":[{"name":"select_group","type":"question","item-type":"select","label":"Group: ","required":false,"options":[],"expressions":{},"validators":[],"actions":[{"event":"change","type":"inline-function","data":{"sync":true,"code":"if (cti.store.pages.add_parts.select_group != null)\n{\n  var lookup = {};\n  var items = cti.store.variables.v_json_all_parts;\n  var part_group1 = cti.store.pages.add_parts.select_group.label;\n  cti.store.variables.v_json_part = [];\n  cti.store.variables.v_json_partnumber = [];\n\n  for(var item, i=0; item=items[i++];){\n    var part_group2 = item.part_group2;\n    if (part_group1 == item.part_group1){\n      if(!(part_group2 in lookup)){\n        lookup[part_group2] = 1;\n        cti.store.variables.v_json_part.push({\n          \"value\": part_group2,\n          \"data\": part_group2\n        });\n      }\n    }\n  }  \n  cti.utils.updatePage();\n}\nelse \n{\n  cti.store.variables.v_json_part = [];\n  cti.store.variables.v_json_partnumber = [];\n}"},"_auto_id_":"eb97104d-8432-464b-912f-e71ab82e7ef1","actions":[]}],"_auto_id_":"a0bca83e-1080-497e-934b-2449a3cbab67","option-source":"$store.variables.v_json_group","label-property":"value","value-property":"data","message":"This is a required field","searchable":true},{"name":"select_part","type":"question","item-type":"select","label":"Part: ","required":false,"options":[],"expressions":{},"validators":[],"actions":[{"event":"change","type":"inline-function","data":{"sync":true,"code":"if (cti.store.pages.add_parts.select_part != null)\n{\n  var items = cti.store.variables.v_json_all_parts;\n  var part_group1 = cti.store.pages.add_parts.select_group.label;\n  var part_group2 = cti.store.pages.add_parts.select_part.label;\n  cti.store.variables.v_json_partnumber = [];\n\n  for(var item, i=0; item=items[i++];){\n    if ((part_group1 == item.part_group1) && (part_group2 == item.part_group2)){\n        cti.store.variables.v_json_partnumber.push({\n          \"value\": item.part_desc,\n          \"data\": item.part_number\n        });\n    }\n  }  \n  cti.utils.updatePage();\n}\nelse\n{\n  cti.store.variables.v_json_partnumber = [];\n}"},"_auto_id_":"0abcd92e-7644-4812-a484-16c2e49b031c"}],"_auto_id_":"4195f626-82e2-46ec-a51f-9a741d540f43","option-source":"$store.variables.v_json_part","label-property":"value","value-property":"data","message":"This is a required field","searchable":true},{"name":"select_part_no","type":"question","item-type":"select","label":"Part Number: ","required":false,"options":[],"expressions":{},"option-source":"$store.variables.v_json_partnumber","label-property":"value","value-property":"data","searchable":true,"validators":[],"actions":[],"_auto_id_":"a62e5bcc-707c-4323-b301-8bcf6d97bb54"},{"name":"number_qty","type":"question","item-type":"number","label":"Quantity: ","required":false,"decimals":2,"validators":[{"type":"expression","content":"$store.pages.add_parts.number_qty > 0 && $store.pages.add_parts.number_qty < 10000","name":"part_qty","message":"Quantity must be between 1 and 9999."}],"expressions":{},"actions":[],"_auto_id_":"4b02a4fe-443d-4d66-a8a8-c74a87bac0f7","message":"This is a required field"}],"expressions":{},"_auto_id_":"5a0923ba-3de8-4379-a823-f1db8d3fa9a1"}],"$hover":false},{"name":"restore_service","config":[{"name":"On-Loaded Event","type":"event","item-type":"onloaded","_auto_id_":"4ffcc523-94c2-47b6-87a1-a1b48ff95c28","actions":[{"event":"onloaded","type":"inline-function","data":{"sync":true,"code":"var now = new Date;\nvar nowYear = now.getFullYear().toString();\nvar nowMonth = (('0'+(now.getMonth()+1).toString()).slice(-2));\nvar nowDate = (('0'+now.getDate().toString()).slice(-2));\nvar nowHour = (('0'+now.getHours().toString()).slice(-2));\nvar nowMinute = (('0'+now.getMinutes().toString()).slice(-2));\nvar monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\ncti.store.pages.restore_service.date_restored = nowYear + '-' + nowMonth + '-' + nowDate;\ndocument.querySelector('#date_restored input[type=\"text\"]').value = nowDate + ' ' + monthNames[now.getMonth()] + ', ' + nowYear;\ndocument.querySelector('input[id=\"id_time_restored\"]').value = nowHour + ':' + nowMinute;\ncti.store.variables.v_time = nowHour + ':' + nowMinute;\ncti.store.pages.restore_service.radio_restored = '';"},"_auto_id_":"0c97079d-2db3-4e7c-9835-523d7a317da8"}]}],"content":[{"name":"title_bar_2","type":"navigation","item-type":"title-bar","content":[{"name":"nav_button_left","type":"navigation","item-type":"nav-button","content":"","extends":{"type":"control","item-type":"button"},"actions":[{"event":"click","type":"go-to-page","data":"notification_details","_auto_id_":"f0116764-1426-456a-a051-246a67f04b47"}],"expressions":{},"theme":"default","left-icon":"fa-info-circle","_auto_id_":"2066c0ef-eb5d-42e2-a22e-ad5fc7dad9eb"},{"name":"title_bluewithwhite","type":"content","item-type":"title","content":"<h1 class=\"bluewithwhite\">Restore Service</h1>","expressions":{},"_auto_id_":"bdffc47e-eca6-4368-b587-130b76ea29a4"},{"name":"nav_button_right","type":"control","item-type":"button","_auto_id_":"7a89fb48-26ae-4836-95a3-24768e17aa2c","content":"","theme":"default","right-icon":"fa-send-o","expressions":{"disabled":"$store.pages.restore_service.radio_restored == '' || ($store.pages.restore_service.radio_restored == 'Y' && ($store.pages.restore_service.date_restored == null || $store.variables.v_time == \"\" || $store.variables.v_onsitedate+$store.variables.v_onsitetime >= $store.pages.restore_service.date_restored.substr(0,4)+$store.pages.restore_service.date_restored.substr(5,2)+$store.pages.restore_service.date_restored.substr(8,2)+$store.variables.v_time.substr(0,2)+$store.variables.v_time.substr(3,2)  == true))"},"actions":[{"type":"if","data":{},"_auto_id_":"afff5d96-5ab8-439b-bea6-fbe90f01eb5c","operations":[{"type":"value","content":"{{$store.xmpp.xmpp_1.connection_status}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"connected","$selected":false}]},{"type":"if","data":{},"_auto_id_":"cbe5db69-d7ac-4788-9d3b-f6f75257554e","operations":[{"type":"value","content":"{{$store.pages.restore_service.radio_restored}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"Y","$selected":false}]},{"event":"click","type":"go-to-page","data":"leave_site","_auto_id_":"6a14a581-2d1d-4cc3-9c3a-9acc4c96602e"},{"event":"click","type":"inline-function","data":{"sync":true,"code":"if (cti.store.pages.restore_service.date_restored != null && cti.store.variables.v_time != \"\")\n{\n if (cti.store.pages.restore_service.date_restored.substr(0,4)+cti.store.pages.restore_service.date_restored.substr(5,2)+cti.store.pages.restore_service.date_restored.substr(8,2)+cti.store.variables.v_time.substr(0,2)+cti.store.variables.v_time.substr(3,2) > cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].restore_req_date+cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].restore_req_time)\n\t{\n\t\tcti.store.variables.v_show_latereason = true;\n\t}\n}\ncti.utils.callAction('call-function', {\"name\":\"f_senddata\",\"params\":{\"operationName\":\"restored\"}});"},"_auto_id_":"00ee15b4-fae7-47e4-8b24-fdb25388e057"},{"type":"otherwise-if","data":{},"_auto_id_":"6b320c02-a357-41cc-8bbd-070f87c14faa","operations":[{"type":"value","content":"{{$store.pages.restore_service.radio_restored}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"N","$selected":false}]},{"event":"click","type":"go-to-page","data":"notifications","_auto_id_":"1b3c406e-0c7e-4ccf-8ac7-71274f7cc57d"},{"event":"click","type":"inline-function","data":{"sync":true,"code":"if (cti.store.pages.restore_service.date_restored != null && cti.store.variables.v_time != \"\")\n{\n if (cti.store.pages.restore_service.date_restored.substr(0,4)+cti.store.pages.restore_service.date_restored.substr(5,2)+cti.store.pages.restore_service.date_restored.substr(8,2)+cti.store.variables.v_time.substr(0,2)+cti.store.variables.v_time.substr(3,2) > cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].restore_req_date+cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].restore_req_time)\n\t{\n\t\tcti.store.variables.v_show_latereason = true;\n\t}\n}\ncti.utils.callAction('call-function', {\"name\":\"f_senddata\",\"params\":{\"operationName\":\"follow\"}});"},"_auto_id_":"ba7f0ce0-a1fc-4301-96cf-a80738b87d8c"},{"type":"end-if","data":{},"_auto_id_":"ae4cc1bb-5c71-4184-a15d-bbec92488108"},{"type":"otherwise","data":{},"_auto_id_":"0abf75dc-df8a-4d05-b784-5dbc7c63d645"},{"event":"click","type":"xmpp-login","data":{"name":"xmpp_1","username":"{{$store.pages.start_screen.text_login}}@mitel.com","password":"{{$store.pages.start_screen.password_login}}"},"_auto_id_":"6ca1a970-303b-45de-9d73-b003b6e3ca5d"},{"type":"if","data":{},"_auto_id_":"28260388-3523-4afc-8530-90666000258d","operations":[{"type":"value","content":"{{$store.xmpp.xmpp_1.last_auth_status}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"success","$selected":false}]},{"type":"if","data":{},"_auto_id_":"bab2d4fb-72c7-4ca0-9941-317bcf32790f","operations":[{"type":"value","content":"{{$store.pages.restore_service.radio_restored}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"Y","$selected":false}]},{"event":"click","type":"go-to-page","data":"leave_site","_auto_id_":"0d201306-823b-42ee-a9d7-07856fdfc260"},{"event":"click","type":"inline-function","data":{"sync":true,"code":"if (cti.store.pages.restore_service.date_restored != null && cti.store.variables.v_time != \"\")\n{\n if (cti.store.pages.restore_service.date_restored.substr(0,4)+cti.store.pages.restore_service.date_restored.substr(5,2)+cti.store.pages.restore_service.date_restored.substr(8,2)+cti.store.variables.v_time.substr(0,2)+cti.store.variables.v_time.substr(3,2) > cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].restore_req_date+cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].restore_req_time)\n\t{\n\t\tcti.store.variables.v_show_latereason = true;\n\t}\n}\ncti.utils.callAction('call-function', {\"name\":\"f_senddata\",\"params\":{\"operationName\":\"restored\"}});"},"_auto_id_":"e2159967-c53d-4d87-b2d7-c86ac6d95688"},{"type":"otherwise","data":{},"_auto_id_":"a8c56601-0416-4ba4-a327-b1d1d49dc21b"},{"event":"click","type":"go-to-page","data":"notifications","_auto_id_":"6ad2e62b-7076-4966-a756-33679c4cba84"},{"event":"click","type":"inline-function","data":{"sync":true,"code":"if (cti.store.pages.restore_service.date_restored != null && cti.store.variables.v_time != \"\")\n{\n if (cti.store.pages.restore_service.date_restored.substr(0,4)+cti.store.pages.restore_service.date_restored.substr(5,2)+cti.store.pages.restore_service.date_restored.substr(8,2)+cti.store.variables.v_time.substr(0,2)+cti.store.variables.v_time.substr(3,2) > cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].restore_req_date+cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].restore_req_time)\n\t{\n\t\tcti.store.variables.v_show_latereason = true;\n\t}\n}\ncti.utils.callAction('call-function', {\"name\":\"f_senddata\",\"params\":{\"operationName\":\"follow\"}});"},"_auto_id_":"9e1a09a6-4e13-4087-9c4b-305549b1106d"},{"type":"end-if","data":{},"_auto_id_":"8294861d-54e4-497a-8062-03ee607b1ea1"},{"type":"otherwise","data":{},"_auto_id_":"2673f486-7a1f-4ee8-9586-5f2c69b0b30e"},{"event":"click","type":"inline-function","data":{"sync":true,"code":"cti.utils.callAction('show-notification', {\"options\": { \"schedule\": false, \"dynamic\": true }, \"name\": \"send_error\", \"title\": \"Connection Error\", \"text\": \"Failed to establish connection to send data.\" });"},"_auto_id_":"2f5a749f-57cd-465c-a873-2d61a65e8abb"},{"type":"end-if","data":{},"_auto_id_":"bf63f0f4-86b0-4451-b837-41c8453a64bc"},{"type":"end-if","data":{},"_auto_id_":"9ba7914e-3ebf-4cec-a3d8-0c46627cb8e2"}]}],"extends":{"type":"area","item-type":"row"},"expressions":{},"_auto_id_":"4f5f15fd-6ced-4af5-b26f-06cb7f33e821"},{"name":"scrollable_basic","type":"area","item-type":"scrollable","_auto_id_":"41e268d4-f85b-448d-b357-be64bdde5a38","content":[{"name":"static_radio","type":"area","item-type":"static","content":[{"name":"radio_restored","type":"question","item-type":"radio","label":"Has the customers service been restored? ","required":false,"options":[{"label":"Yes","value":"Y"},{"label":"No","value":"N"}],"icon-selected":"fa-check-circle","icon-unselected":"fa-circle-o","expressions":{},"message":"This is a required field","validators":[],"actions":[],"_auto_id_":"19476ebc-da37-4821-8686-63fd37e4b439"}],"expressions":{},"_auto_id_":"821a0af8-ac10-45d7-a7d4-55ccaae28104"},{"name":"static_restore","type":"area","item-type":"static","content":[{"name":"date_restored","type":"question","item-type":"date","label":"Date Restored: ","required":false,"left-icon":"fa-calendar","options":{"default":"","max":"current"},"expressions":{"disabled":"$store.pages.restore_service.radio_restored == 'N'"},"validators":[],"actions":[{"event":"change","type":"inline-function","data":{"sync":true,"code":"if (document.querySelector('#date_restored input[type=\"text\"]').value != '')\n{\n\tvar dt = new Date(document.querySelector('#date_restored input[type=\"text\"]').value); \n\tvar year = dt.getFullYear().toString();\n\tvar month = (dt.getMonth()+1).toString();\n\tvar date = dt.getDate().toString();\n\tvar pad = \"00\";\n\tcti.store.pages.restore_service.date_restored = year + '-' + pad.substring(0, pad.length - month.length) + month + '-' + pad.substring(0, pad.length - date.length) + date;\t\n}"},"_auto_id_":"376198f3-1f31-467c-b5dc-62c0978fb03e"}],"_auto_id_":"eb727f47-d296-40df-8cf7-61be887cc84f"},{"name":"html_time_restored","type":"content","item-type":"html","_auto_id_":"1e465f93-590c-4ea0-9e2e-5a4a8b00dc65","content":"<p style=\"font-weight: 700;\">Time Restored:</p>\n<div class=\"input-time-icon-left\"><span class=\"fa fa-clock-o\"></span>\n<input type=\"time\" name=\"time_restored\" id=\"id_time_restored\" oninput=\"window.setValue(id_time_restored);\" /></div>","expressions":{}}],"expressions":{},"_auto_id_":"c97d4b41-1717-4ac7-be79-f694881a5797"}],"expressions":{}}],"$hover":false},{"name":"leave_site","config":[{"name":"On-Loaded Event","type":"event","item-type":"onloaded","_auto_id_":"25bcd7f0-3941-4f2d-ac6e-b3420b7a511a","actions":[{"event":"onloaded","type":"inline-function","data":{"sync":true,"code":"var now = new Date;\nvar nowYear = now.getFullYear().toString();\nvar nowMonth = (('0'+(now.getMonth()+1).toString()).slice(-2));\nvar nowDate = (('0'+now.getDate().toString()).slice(-2));\nvar nowHour = (('0'+now.getHours().toString()).slice(-2));\nvar nowMinute = (('0'+now.getMinutes().toString()).slice(-2));\nvar monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\ncti.store.pages.leave_site.date_leave = nowYear + '-' + nowMonth + '-' + nowDate;\ndocument.querySelector('#date_leave input[type=\"text\"]').value = nowDate + ' ' + monthNames[now.getMonth()] + ', ' + nowYear;\ndocument.querySelector('input[id=\"id_time_leave\"]').value = nowHour + ':' + nowMinute;\ncti.store.variables.v_time = nowHour + ':' + nowMinute;"},"_auto_id_":"72bd0d5f-335a-4c9e-b7b3-b08a3da19484"}]}],"content":[{"name":"title_bar_2","type":"navigation","item-type":"title-bar","content":[{"name":"nav_button_left","type":"navigation","item-type":"nav-button","content":"","extends":{"type":"control","item-type":"button"},"actions":[{"event":"click","type":"go-to-page","data":{"restore_service":"$store.variables.v_json_jobs[$store.variables.v_current_job_index].restore_required == \"Y\"","notification_details":"$store.variables.v_json_jobs[$store.variables.v_current_job_index].restore_required == \"N\""},"_auto_id_":"c528e39b-c62f-4a3d-960f-1162114c341c"}],"expressions":{},"theme":"default","left-icon":"fa-chevron-left","$selected":false,"_auto_id_":"442af377-8896-48d7-9f43-dfb5c5e23520"},{"name":"title_bluewithwhite","type":"content","item-type":"title","content":"<h1 class=\"bluewithwhite\">Leave Site</h1>","expressions":{},"$selected":false,"_auto_id_":"6d11c42c-c99f-4a66-9b8f-3c20fa86680c"},{"name":"nav_button_right","type":"control","item-type":"button","_auto_id_":"8d396ce1-a2a5-4fde-a597-543b7b5bc8ba","content":"","theme":"default","actions":[{"event":"click","type":"go-to-page","data":"call_closure","_auto_id_":"98d9773e-9930-4c16-81f1-a8d62564a48b"}],"expressions":{"disabled":"$store.pages.leave_site.date_leave == null || $store.variables.v_time == '' || ($store.pages.leave_site.date_leave != null && $store.variables.v_time != '' && $store.variables.v_onsitedate+$store.variables.v_onsitetime >= $store.pages.leave_site.date_leave.substr(0,4)+$store.pages.leave_site.date_leave.substr(5,2)+$store.pages.leave_site.date_leave.substr(8,2)+$store.variables.v_time.substr(0,2)+$store.variables.v_time.substr(3,2)  == true) || ($store.pages.leave_site.radio_close_notf == 'Y' && ($store.pages.leave_site.date_leave == null || $store.variables.v_time == '' || ($store.variables.v_json_jobs[$store.variables.v_current_job_index].notification_type.trim() == 'MNT' && $store.pages.leave_site.select_object == '') || ($store.variables.v_json_jobs[$store.variables.v_current_job_index].notification_type.trim() == 'MNT'  && $store.pages.leave_site.select_cause == '' ) || ($store.variables.v_json_jobs[$store.variables.v_current_job_index].notification_type.trim() == 'MNT'  && $store.pages.leave_site.select_decision == '') || $store.pages.leave_site.text_custclear == '' || $store.pages.leave_site.text_clearwith == '' || ($store.variables.v_show_latereason == true && $store.pages.leave_site.select_latereason == '')))"},"right-icon":"fa-chevron-right"}],"extends":{"type":"area","item-type":"row"},"expressions":{},"$selected":false,"_auto_id_":"a860aa84-12e1-488d-a740-71ef9a3aa937"},{"name":"scrollable_basic","type":"area","item-type":"scrollable","_auto_id_":"282fc40f-14b5-453f-b035-5b4401f968b6","content":[{"name":"scrollable_basic1","type":"area","item-type":"scrollable","_auto_id_":"40a15614-b692-4f9e-b0a9-239a10c3a7dc","content":[{"name":"radio_close_notf","type":"question","item-type":"radio","label":"Close notification down? ","required":true,"options":[{"label":"Yes","value":"Y"},{"label":"No","value":"N"}],"icon-selected":"fa-check-circle","icon-unselected":"fa-circle-o","expressions":{"default":"\"N\""},"message":"This is a required field","validators":[],"actions":[{"type":"if","data":{},"_auto_id_":"f6d26ec1-41ce-4aa4-8672-6b83440afea1","operations":[{"type":"value","content":"{{$store.pages.leave_site.radio_close_notf}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"N","$selected":false}]},{"event":"change","type":"inline-function","data":{"sync":true,"code":"cti.store.pages.leave_site.date_leave = null;\ndocument.querySelector('#date_leave input[type=\"text\"]').value = ''\ncti.store.pages.leave_site.time_leave = null;\ndocument.querySelector('#time_leave input[type=\"text\"]').value = ''\ncti.utils.updatePage();"},"_auto_id_":"0b494fea-c106-45da-b7a8-0679f5a514a7"}],"$selected":false,"_auto_id_":"8457d400-4229-4d58-bbd6-ba6a146f8ec6"},{"name":"date_leave","type":"question","item-type":"date","label":"Close Date: ","required":false,"left-icon":"fa-calendar","options":{"default":"","max":"current"},"expressions":{},"validators":[],"actions":[{"event":"change","type":"inline-function","data":{"sync":true,"code":"if (document.querySelector('#date_leave input[type=\"text\"]').value != '')\n{\n\tvar dt = new Date(document.querySelector('#date_leave input[type=\"text\"]').value); \n\tvar year = dt.getFullYear().toString();\n\tvar month = (dt.getMonth()+1).toString();\n\tvar date = dt.getDate().toString();\n\tvar pad = \"00\";\n\tcti.store.pages.leave_site.date_leave = year + '-' + pad.substring(0, pad.length - month.length) + month + '-' + pad.substring(0, pad.length - date.length) + date;\t\n}"},"_auto_id_":"9d20a980-cb6c-4436-b28c-7b54495f02e0"}],"$selected":false,"_auto_id_":"76bb7f38-a8da-4dcc-98f0-f9971177c5c3"},{"name":"html_time_leave","type":"content","item-type":"html","_auto_id_":"67a883d7-1825-4d70-80d8-a0552df41c59","content":"<p style=\"font-weight: 700;\">Close Time:</p>\n<div class=\"input-time-icon-right\"><span class=\"fa fa-clock-o\"></span>\n<input type=\"time\" name=\"time_leave\" id=\"id_time_leave\" oninput=\"window.setValue(id_time_leave);\" /></div>","expressions":{}}],"expressions":{}},{"name":"scrollable_notf_det","type":"area","item-type":"scrollable","content":[{"name":"scrollable_leave","type":"area","item-type":"scrollable","_auto_id_":"edbfaefd-7e1c-4515-a3e6-10656d436067","content":[{"name":"select_object","type":"question","item-type":"select","_auto_id_":"8b29f150-8a89-4ee8-8c3f-3d87703e65ac","label":"Object: ","required":false,"options":[],"expressions":{},"option-source":"$store.variables.v_json_object_filtered","label-property":"value","value-property":"data","searchable":true,"actions":[],"validators":[]},{"name":"select_cause","type":"question","item-type":"select","_auto_id_":"13dd26fe-f0a4-4a46-88bb-643ea58d7f03","label":"Cause: ","required":false,"options":[],"expressions":{},"option-source":"$store.variables.v_json_cause_filtered","label-property":"value","value-property":"data","searchable":true},{"name":"select_decision","type":"question","item-type":"select","_auto_id_":"af758797-b7af-4480-b867-e072c9756171","label":"Decision: ","required":false,"options":[],"expressions":{},"option-source":"$store.variables.v_json_decision_filtered","label-property":"value","value-property":"data","searchable":true},{"name":"text_custclear","type":"question","item-type":"text","_auto_id_":"12678274-b2f2-4d34-bbb8-dc991d6c82c1","label":"Customer Clear Code:","required":false,"multiline":false,"debounce":250,"expressions":{},"validators":[]},{"name":"text_clearwith","type":"question","item-type":"text","_auto_id_":"f2cb30d1-010e-4467-828d-38019c1a4c32","label":"Cleared with: ","required":false,"multiline":false,"debounce":250,"expressions":{}},{"name":"select_latereason","type":"question","item-type":"select","_auto_id_":"54e82646-ed6c-41a5-8278-9e25806e0658","label":"Late Reason Code:","required":false,"options":[],"expressions":{"show":"$store.variables.v_show_latereason == true"},"searchable":true,"option-source":"$store.variables.v_json_latereason","label-property":"value","value-property":"data","actions":[]}],"expressions":{}}],"expressions":{"show":"$store.pages.leave_site.radio_close_notf == \"Y\""},"$selected":false,"_auto_id_":"9c7e3032-5071-4e86-aa43-19daf0c6f7d5"},{"name":"scrollable_escalate","type":"area","item-type":"scrollable","_auto_id_":"04eada6c-0511-4ecd-92d9-9c90cbd26006","content":[{"name":"radio_escalate","type":"question","item-type":"radio","label":"Escalate to Second Line?","required":true,"options":[{"label":"Yes","value":"Y"},{"label":"No","value":"N"}],"icon-selected":"fa-check-circle","icon-unselected":"fa-circle-o","expressions":{"default":"\"N\""},"actions":[],"validators":[],"$selected":false,"_auto_id_":"44e96d9f-85ae-4e85-a996-c7e179818c35","message":"This is a required field"}],"expressions":{"show":"$store.pages.leave_site.radio_close_notf == \"N\""}}],"expressions":{}}],"$hover":false},{"name":"call_closure","config":[],"content":[{"name":"title_bar_2","type":"navigation","item-type":"title-bar","content":[{"name":"nav_button_left","type":"navigation","item-type":"nav-button","content":"","extends":{"type":"control","item-type":"button"},"actions":[{"event":"click","type":"go-to-page","data":"leave_site","_auto_id_":"691d6165-1b65-41e1-b4ff-b4fe9bb0b6ca"}],"expressions":{},"theme":"default","left-icon":"fa-chevron-left","_auto_id_":"3ccaf5e2-f181-4e91-8b83-522e33621cbf"},{"name":"title_bluewithwhite","type":"content","item-type":"title","content":"<h1 class=\"bluewithwhite\">Call Closure</h1>","expressions":{},"_auto_id_":"638fbc75-9b68-426d-af45-8116ad8b1829"},{"name":"nav_button_right","type":"control","item-type":"button","_auto_id_":"5753d10b-934a-466c-a8ad-3c0887eca275","content":"","theme":"default","actions":[{"event":"click","type":"go-to-page","data":"notifications","_auto_id_":"ff5972ac-5600-4d1c-a955-184fec520389"},{"type":"if","data":{},"_auto_id_":"3e56dc5d-6490-41b4-b216-e20c3da47b50","operations":[{"type":"value","content":"{{$store.xmpp.xmpp_1.connection_status}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"connected","$selected":false}]},{"event":"click","type":"inline-function","data":{"sync":true,"code":"function myFunction(operation) {\n   cti.utils.callAction('call-function', {\"name\":\"f_senddata\",\"params\":{\"operationName\":operation}});\n}\n\nif (cti.store.pages.leave_site.radio_close_notf == 'Y')\n{\n\tmyFunction('close');\n}\nif (cti.store.pages.leave_site.radio_close_notf == 'N' && cti.store.pages.leave_site.radio_escalate == 'Y')\n{\n   myFunction('escalate');\n}\nif (cti.store.pages.leave_site.radio_close_notf == 'N' && cti.store.pages.leave_site.radio_escalate == 'N')\n{\n   myFunction('follow');\n}"},"_auto_id_":"b58a9974-6d61-4120-82d9-94875578a461"},{"type":"otherwise","data":{},"_auto_id_":"90eb1a21-c569-464a-bbe9-a02338be9405"},{"event":"click","type":"xmpp-login","data":{"name":"xmpp_1","username":"{{$store.pages.start_screen.text_login}}@mitel.com","password":"{{$store.pages.start_screen.password_login}}"},"_auto_id_":"7051a581-5fce-4725-a297-394f48f92ba2"},{"type":"if","data":{},"_auto_id_":"ace0a3b2-6870-4aaa-83fe-b9ed6326c56e","operations":[{"type":"value","content":"{{$store.xmpp.xmpp_1.last_auth_status}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"success","$selected":false}]},{"event":"click","type":"inline-function","data":{"sync":true,"code":"function myFunction(operation) {\n   cti.utils.callAction('call-function', {\"name\":\"f_senddata\",\"params\":{\"operationName\":operation}});\n}\n\nif (cti.store.pages.leave_site.radio_close_notf == 'Y')\n{\n\tmyFunction('close');\n}\nif (cti.store.pages.leave_site.radio_close_notf == 'N' && cti.store.pages.leave_site.radio_escalate == 'Y')\n{\n   myFunction('escalate');\n}\nif (cti.store.pages.leave_site.radio_close_notf == 'N' && cti.store.pages.leave_site.radio_escalate == 'N')\n{\n   myFunction('follow');\n}"},"_auto_id_":"7586d08e-c0e4-4f80-9c06-8db1a1accb7d"},{"type":"otherwise","data":{},"_auto_id_":"74f5b4ea-e84d-4363-860b-7edd382da69a"},{"event":"click","type":"inline-function","data":{"sync":true,"code":"cti.utils.callAction('show-notification', {\"options\": { \"schedule\": false, \"dynamic\": true }, \"name\": \"send_error\", \"title\": \"Connection Error\", \"text\": \"Failed to establish connection to send data.\" });"},"_auto_id_":"ce567802-2561-44dc-9389-a0ab405d9ea9"},{"type":"end-if","data":{},"_auto_id_":"cef288a0-d868-48be-928a-00ebb0be3118"},{"type":"end-if","data":{},"_auto_id_":"b59567fe-c0f9-472e-a074-6d3eadd3adc8"}],"right-icon":"fa-send-o","expressions":{}}],"extends":{"type":"area","item-type":"row"},"expressions":{},"_auto_id_":"3f2ecff9-5b6e-4a42-bc24-504af38296c0"},{"name":"scrollable_11","type":"area","item-type":"scrollable","content":[{"name":"html_9","type":"content","item-type":"html","content":"<h4>The current service call will be marked as complete and transferred to the server. It will then be removed from your device.</h4>\n<br/>\n<h4>To complete press <b>Send</b>, to cancel press <b>Back</b>.</h4>","_auto_id_":"c1e249c3-b186-456f-8242-cffdf88fbba0","expressions":{}}],"_auto_id_":"e4cdeba7-e92d-424c-919e-aa6fb50c0b55","expressions":{}}],"$hover":false},{"name":"enter_notes","config":[{"name":"On-Load Event","type":"event","item-type":"onload","actions":[{"event":"onload","type":"inline-function","data":{"code":"cti.store.pages.enter_notes.radio_restore_flag = cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].restore_required;"},"_auto_id_":"128023fa-a2e4-4523-a132-e7c4d899b57b"}],"_auto_id_":"af416bd1-c3c1-4f06-bb86-0a17eeb9ec50"}],"content":[{"name":"title_bar_2","type":"navigation","item-type":"title-bar","content":[{"name":"nav_button_left","type":"navigation","item-type":"nav-button","content":"","extends":{"type":"control","item-type":"button"},"actions":[{"event":"click","type":"go-to-page","data":"notification_details","_auto_id_":"9b4fef17-f72b-48c2-84ff-9856b6ac7d6f"}],"expressions":{},"theme":"default","$selected":false,"left-icon":"fa-info-circle","_auto_id_":"46c51f47-48c8-4ec3-9ade-40e911be4ef9"},{"name":"title_bluewithwhite","type":"content","item-type":"title","content":"<h1 class=\"bluewithwhite\">Enter Notes</h1>","expressions":{},"$selected":false,"_auto_id_":"6da4b3db-5117-48ea-b360-99409211c908"},{"name":"nav_button_right","type":"control","item-type":"button","_auto_id_":"b9b4b3ed-527a-44d2-8213-3dd56042fe16","content":"","theme":"default","actions":[{"event":"click","type":"go-to-page","data":"notification_details","_auto_id_":"c02e22c4-84af-4f9c-9b05-5bffc3f346bb"},{"type":"if","data":{},"_auto_id_":"642df9f6-de9a-4275-a75d-18b423d0bea8","operations":[{"type":"value","content":"{{$store.xmpp.xmpp_1.connection_status}}"},{"type":"operator","content":"=="},{"type":"value","content":"connected"}]},{"event":"click","type":"inline-function","data":{"sync":true,"code":"if (cti.store.pages.enter_notes.text_enter_notes != undefined)\n{\n  cti.utils.callAction('call-function', {\"name\":\"f_senddata\",\"params\":{\"operationName\":\"addNote\"}});\n}"},"_auto_id_":"d70b8a0a-9d96-44ec-af28-52a27b677f06","actions":[]},{"type":"otherwise","data":{},"_auto_id_":"0bf2929b-0f7c-4ac7-8a14-f2f2c209f762"},{"event":"click","type":"xmpp-login","data":{"name":"xmpp_1","username":"{{$store.pages.start_screen.text_login}}@mitel.com","password":"{{$store.pages.start_screen.password_login}}"},"_auto_id_":"a1e12bc8-c869-445a-8e5f-b8b6f3ab0db0"},{"type":"if","data":{},"_auto_id_":"4dd86b2a-c6e6-445e-be49-00c7700d65b2","operations":[{"type":"value","content":"{{$store.xmpp.xmpp_1.last_auth_status}}"},{"type":"operator","content":"=="},{"type":"value","content":"success"}]},{"event":"click","type":"inline-function","data":{"sync":true,"code":"if (cti.store.pages.enter_notes.text_enter_notes != undefined)\n{\n  cti.utils.callAction('call-function', {\"name\":\"f_senddata\",\"params\":{\"operationName\":\"addNote\"}});\n}"},"_auto_id_":"4d9ad85e-15fc-4da5-ad34-98d23260a3a4"},{"type":"otherwise","data":{},"_auto_id_":"5f4490de-49b7-4731-87e7-3200b45a5895"},{"event":"click","type":"inline-function","data":{"sync":true,"code":"cti.utils.callAction('show-notification', {\"options\": { \"schedule\": false, \"dynamic\": true }, \"name\": \"send_error\", \"title\": \"Connection Error\", \"text\": \"Failed to establish connection to send data.\" });"},"_auto_id_":"b0b6a44b-bf69-40f3-9d14-0ec9749224d5"},{"type":"end-if","data":{},"_auto_id_":"8ff2e698-9813-4d29-b8b6-49dfc44259c5"},{"type":"end-if","data":{},"_auto_id_":"c8137358-57ce-4e53-af76-f0ebf3a7719a"}],"right-icon":"fa-send-o","expressions":{"disabled":"$store.pages.enter_notes.text_enter_notes === undefined || $store.pages.enter_notes.text_enter_notes == ''"}}],"extends":{"type":"area","item-type":"row"},"expressions":{},"$selected":false,"_auto_id_":"b16854a6-bb18-41ab-84e6-128756b648a9"},{"name":"scrollable_basic","type":"area","item-type":"scrollable","_auto_id_":"7d3e8285-cc01-4b75-acba-73cc8471ed34","content":[{"name":"static_enter_notes","type":"area","item-type":"static","_auto_id_":"e9f1518d-e075-4e9e-bcae-7fc0a1c97dfc","content":[{"name":"text_enter_notes","type":"question","item-type":"text","label":"Notes: ","required":false,"multiline":true,"expressions":{},"validators":[],"actions":[],"$selected":false,"_auto_id_":"dca7d6dd-186c-4141-8aae-28c1c0c21ce0","message":"This is a required field"},{"name":"radio_restore_flag","type":"question","item-type":"radio","label":"Restore?","required":false,"options":[{"label":"Yes","value":"Y"},{"label":"No","value":"N"}],"icon-selected":"fa-check-circle","icon-unselected":"fa-circle-o","expressions":{"disabled":"1 == 1","default":"\"N\""},"$selected":false,"_auto_id_":"412e7f58-9c79-45a0-8c92-f1c9aa71c7dc","validators":[],"actions":[]}],"expressions":{}}],"expressions":{}}],"$hover":false},{"name":"other_jobs","config":[{"name":"On-Load Event","type":"event","item-type":"onload","actions":[{"event":"onload","type":"set-variable","data":{"name":"v_current_ojob_index","value":"0"},"_auto_id_":"3b34027e-1be9-46f4-8d9b-9d6ee05a4bc1"}],"_auto_id_":"a47abbb2-1c39-4384-a775-804dc4b1700a"}],"content":[{"name":"title_bar_2","type":"navigation","item-type":"title-bar","extends":{"type":"area","item-type":"row"},"content":[{"name":"nav_button_left","type":"navigation","item-type":"nav-button","content":"","extends":{"type":"control","item-type":"button"},"actions":[{"event":"click","type":"go-to-page","data":{"notes":"$store.variables.v_from_page == \"notes\"","work_instructions":"$store.variables.v_from_page != \"notes\""},"_auto_id_":"2716e361-d87f-4fd8-b713-eb30f24057f2"}],"expressions":{},"theme":"default","left-icon":"fa-chevron-left","$selected":false,"_auto_id_":"142a6480-383a-4461-99cc-f90668653482"},{"name":"title_bluewithwhite","type":"content","item-type":"title","content":"<h1>Other Open Jobs</h1>","expressions":{},"$selected":false,"_auto_id_":"e8fde2cb-2ab2-4d6b-9035-a255a2b8255b"},{"name":"nav_button_right","type":"navigation","item-type":"nav-button","content":"","extends":{"type":"control","item-type":"button"},"actions":[{"event":"click","type":"go-to-page","data":"notification_details","_auto_id_":"e446925b-2ff9-4642-b227-c70f4caffedc"}],"expressions":{},"theme":"default","$selected":false,"_auto_id_":"f8f7ef72-c7dc-42c2-b9ce-536360fb0a0c","right-icon":"fa-info-circle"}],"expressions":{},"$selected":false,"_auto_id_":"c09649c6-8103-426f-b261-5d4eaf4ae8ba"},{"name":"static_tab","type":"area","item-type":"static","content":[{"name":"button_tab_wrkins","type":"control","item-type":"button","content":"INSTRUCTION","theme":"default","expressions":{},"classes":"tabButtons","actions":[{"event":"click","type":"go-to-page","data":"work_instructions","_auto_id_":"6feff81d-af7d-4ad0-9033-54483cec0a37"}],"$selected":false,"_auto_id_":"2a6f6e29-9e67-48f1-ba99-4faa1700552f"},{"name":"button_tab_notes","type":"control","item-type":"button","content":"NOTES","theme":"default","expressions":{},"actions":[{"event":"click","type":"go-to-page","data":"notes","_auto_id_":"bc699d3f-6afe-4af0-924b-f05e9505fee9"}],"classes":"tabButtons","$selected":false,"_auto_id_":"7e9fb0b9-98d2-4759-bab3-0d376dfd6744"},{"name":"button_tab_history","type":"control","item-type":"button","content":"HISTORY","theme":"default","expressions":{},"classes":"tabButtons","actions":[{"event":"click","type":"set-variable","data":{"name":"v_from_page","value":"other_jobs"},"_auto_id_":"87fd2339-0418-4a3a-8fb5-63f39b2a7699"},{"event":"click","type":"go-to-page","data":"history","_auto_id_":"a7087504-1060-4347-8cf1-2b2e9b9692e4"}],"$selected":false,"_auto_id_":"2918159c-3fa1-4277-bbfe-95f57604ec67"}],"expressions":{},"$selected":false,"_auto_id_":"2ce31f5d-c043-464d-8041-e3006aa76835"},{"name":"scrollable_grid","type":"area","item-type":"scrollable","content":[{"name":"html_jobs_header","type":"content","item-type":"html","content":"<div style=\"width: 390px; height: 10px; position: relative; background-color: #F3F3F3; font-size: 10pt;\">\n<span style=\"display:inline-block; width: 90px; color: #9AA0A5; font-weight: bold; top: 7px; left: 4px; position: relative;\">NUMBER</span>\n<span style=\"display:inline-block; width: 135px; color: #9AA0A5; font-weight: bold; top: 7px; left: 2px; position: relative;\">START DATE</span>\n<span style=\"display:inline-block; width: 150px; color: #9AA0A5; font-weight: bold; top: 7px; left: -5px; position: relative;\">JOB TEXT</span>\n  ","expressions":{},"$selected":false,"_auto_id_":"346eea56-8f4c-4af7-8a04-76ff939ddbcc"},{"name":"list_other","type":"content","item-type":"list","title":"List","edit":false,"search":false,"row":"<span style=\"display:inline-block; width: 88px;\">{{$data.$item.notification_no}}</span>\n<span style=\"display:inline-block; width: 128px;\">{{$data.$item.notf_start_dttm}}</span>\n<span style=\"display:inline-block; width: 385px;\">{{$data.$item.job_text}}</span>","classes":"","expressions":{},"content":[],"model":"$store.variables.v_json_other_jobs","theme":"bootstrap","actions":[{"event":"click","type":"set-variable","data":{"name":"v_current_ojob_index","value":"{{$data.$item.$index}}"},"_auto_id_":"aba7c7d9-1ee4-4ea4-bc67-b81f4ef30bdc"},{"event":"click","type":"inline-function","data":{"code":"cti.utils.updatePage();"},"_auto_id_":"b643c42c-575a-4364-b0e0-200c3f383c19"}],"$selected":false,"_auto_id_":"1ab97e63-0aad-4184-b8d8-6337a6938c12"},{"name":"html_other_detail","type":"content","item-type":"html","content":"<style type=\"text/css\">\n.oth  {border-collapse:collapse;border-spacing:0;border:none;width:96%;font-family:'Ubuntu', sans-serif;margin-left:2%;}\n.oth td {padding:4px 2px;border-style:solid;border:none;}\n.oth .othtdleft1 {text-align:left;font-size:15px;font-weight:bold;}\n.oth .othtdleft2 {text-align:left;font-size:15px;width:40%;vertical-align:top;}\n.oth .othtdright1 {text-align:left;font-size:15px;width:60%}\n</style>\n<br/>\n<table class=\"oth\">\n  <tr>\n    <td class=\"othtdleft1\" colspan=2>Job Details</td>\n  </tr>\n  <tr><td></td><td></td></tr>\n  <tr>\n    <td class=\"othtdleft2\">Start Date:</td>\n    <td class=\"othtdright1\">{{'$store.variables.v_json_other_jobs[$store.variables.v_current_ojob_index].notf_start_dttm.substr(0,10)'|store}}</td>\n  </tr>\n  <tr>\n    <td class=\"othtdleft2\">Start Time:</td>\n    <td class=\"othtdright1\">{{'$store.variables.v_json_other_jobs[$store.variables.v_current_ojob_index].notf_start_dttm.substr(11,5)'|store}}</td>\n  </tr>\n  <tr>\n    <td class=\"othtdleft2\">Damage Code:</td>\n    <td class=\"othtdright1\">{{'$store.variables.v_json_other_jobs[$store.variables.v_current_ojob_index].damage_code'|store}}</td>\n  </tr>\n  <tr>\n    <td class=\"othtdleft2\">Job Text:</td>\n    <td class=\"othtdright1\">{{'$store.variables.v_json_other_jobs[$store.variables.v_current_ojob_index].job_text'|store}}</td>\n  </tr>\n</table>","expressions":{"show":"$store.variables.v_json_other_jobs != undefined && $store.variables.v_current_ojob_index != undefined"},"$selected":false,"_auto_id_":"369edefd-2605-44d2-bf56-218931e7b62d"}],"$selected":false,"expressions":{},"_auto_id_":"a35c5f81-d212-4979-bd6d-3c521055fc54"}],"$hover":false},{"name":"history","config":[{"name":"On-Load Event","type":"event","item-type":"onload","_auto_id_":"606ce6e2-5e63-48fb-951c-754d43126660","actions":[{"event":"onload","type":"set-variable","data":{"name":"v_current_hjob_index","value":"0"},"_auto_id_":"2f1bd535-a939-4c94-b32a-5ed2a35ce2ad"}]}],"content":[{"name":"title_bar_2","type":"navigation","item-type":"title-bar","extends":{"type":"area","item-type":"row"},"content":[{"name":"nav_button_left","type":"navigation","item-type":"nav-button","content":"","extends":{"type":"control","item-type":"button"},"actions":[{"event":"click","type":"go-to-page","data":{"notes":"$store.variables.v_from_page == \"notes\"","work_instructions":"$store.variables.v_from_page != \"notes\""},"_auto_id_":"fb0b0ed6-c17c-42c5-a0ad-71a0036b886f"}],"$selected":false,"expressions":{},"theme":"default","left-icon":"fa-chevron-left","_auto_id_":"87966222-4e30-4c80-a0db-9226379b126a"},{"name":"title_bluewithwhite","type":"content","item-type":"title","content":"<h1>Customer History</h1>","expressions":{},"$selected":false,"_auto_id_":"d55554f5-f6a7-4df5-993e-912a08466812"},{"name":"nav_button_right","type":"navigation","item-type":"nav-button","content":"","extends":{"type":"control","item-type":"button"},"actions":[{"event":"click","type":"go-to-page","data":"notification_details","_auto_id_":"85822795-653a-474a-afe8-04bab7f4cadc"}],"expressions":{},"theme":"default","$selected":false,"_auto_id_":"4f87027a-9b56-47b3-bf30-3980ef2b3c40","right-icon":"fa-info-circle"}],"expressions":{},"$selected":false,"_auto_id_":"ca7ff4d4-41c4-4e69-959a-fb4f975f3b5b"},{"name":"static_tab","type":"area","item-type":"static","content":[{"name":"button_tab_wrkins","type":"control","item-type":"button","content":"INSTRUCTION","theme":"default","expressions":{},"classes":"tabButtons","actions":[{"event":"click","type":"go-to-page","data":"work_instructions","_auto_id_":"545347d5-4791-4c00-835b-dca141abc6aa"}],"$selected":false,"_auto_id_":"94ed561c-85eb-4450-a307-d40c05918abe"},{"name":"button_tab_wknotes","type":"control","item-type":"button","content":"NOTES","theme":"default","expressions":{},"classes":"tabButtons","actions":[{"event":"click","type":"go-to-page","data":"notes","_auto_id_":"3a205489-9f4d-4a00-b0af-8261a4a2aaac"}],"$selected":false,"_auto_id_":"13e09617-7686-4772-a150-e6db6777bc4e"},{"name":"button_tab_other","type":"control","item-type":"button","content":"OTHER","theme":"default","expressions":{},"actions":[{"event":"click","type":"set-variable","data":{"name":"v_from_page","value":"history"},"_auto_id_":"8066a17a-6a30-49fa-872a-e0a687d68b46"},{"event":"click","type":"go-to-page","data":"other_jobs","_auto_id_":"1dd191af-df06-4b9d-8b49-ce24be8bb757"}],"classes":"tabButtons","$selected":false,"_auto_id_":"4ad6256c-0d9a-44c9-82d3-6bc0780b5835"}],"expressions":{},"$selected":false,"_auto_id_":"a01a5de2-ffc1-4665-9284-4b7bd47af7e3"},{"name":"scrollable_grid","type":"area","item-type":"scrollable","content":[{"name":"html_jobs_header","type":"content","item-type":"html","content":"<div style=\"width: 625px; height: 10px; position: relative; background-color: #F3F3F3; font-size: 10pt;\">\n<span style=\"display:inline-block; width: 90px; color: #9AA0A5; font-weight: bold; top: 7px; left: 4px; position: relative;\">NUMBER</span>\n<span style=\"display:inline-block; width: 94px; color: #9AA0A5; font-weight: bold; top: 7px; left: 1px; position: relative;\">START DATE</span>\n<span style=\"display:inline-block; width: 94px; color: #9AA0A5; font-weight: bold; top: 7px; left: -3px; position: relative;\">END DATE</span>\n<span style=\"display:inline-block; width: 330px; color: #9AA0A5; font-weight: bold; top: 7px; left: -6px; position: relative;\">JOB TEXT</span>\n  ","expressions":{},"$selected":false,"_auto_id_":"04e33843-ff71-48cb-a5db-6c3cdedab043"},{"name":"list_history","type":"content","item-type":"list","title":"List","edit":false,"search":false,"row":"<span style=\"display:inline-block; width: 88px;\">{{$data.$item.notification_no}}</span>\n<span style=\"display:inline-block; width: 90px;\">{{$data.$item.notification_start_date.substr(6,2)}}/{{$data.$item.notification_start_date.substr(4,2)}}/{{$data.$item.notification_start_date.substr(0,4)}}</span>\n<span style=\"display:inline-block; width: 90px;\">{{$data.$item.notification_end_date.substr(6,2)}}/{{$data.$item.notification_end_date.substr(4,2)}}/{{$data.$item.notification_end_date.substr(0,4)}}</span>\n<span style=\"display:inline-block; width: 340px;\">{{$data.$item.job_text}}</span>","classes":"","expressions":{},"content":[],"model":"$store.variables.v_json_history_jobs","theme":"bootstrap","actions":[{"event":"click","type":"set-variable","data":{"name":"v_current_hjob_index","value":"{{$data.$item.$index}}"},"_auto_id_":"aba7c7d9-1ee4-4ea4-bc67-b81f4ef30bdc"},{"event":"click","type":"inline-function","data":{"code":"cti.utils.updatePage();"},"_auto_id_":"b643c42c-575a-4364-b0e0-200c3f383c19"}],"$selected":false,"_auto_id_":"bf3754db-7366-4368-8a34-f2260a8e7edb"},{"name":"html_history_detail","type":"content","item-type":"html","content":"<style type=\"text/css\">\n.his  {border-collapse:collapse;border-spacing:0;border:none;width:96%;font-family:'Ubuntu', sans-serif;margin-left:2%;}\n.his td {padding:4px 2px;border-style:solid;border:none;}\n.his .histdleft1 {text-align:left;font-size:15px;font-weight:bold;}\n.his .histdleft2 {text-align:left;font-size:15px;width:40%;vertical-align:top;}\n.his .histdright1 {text-align:left;font-size:15px;width:60%}\n</style>\n<br/>\n<table class=\"his\">\n  <tr>\n    <td class=\"histdleft1\" colspan=2>Job Details</td>\n  </tr>\n  <tr><td></td><td></td></tr>\n  <tr>\n    <td class=\"histdleft2\">Number:</td>\n    <td class=\"histdright1\">{{'$store.variables.v_json_history_jobs[$store.variables.v_current_hjob_index].notification_no'|store}}</td>\n  </tr>  \n  <tr>\n    <td class=\"histdleft2\">Start Date:</td>\n    <td class=\"histdright1\">{{'$store.variables.v_json_history_jobs[$store.variables.v_current_hjob_index].notf_start_date'|store}}</td>\n  </tr>\n  <tr>\n    <td class=\"histdleft2\">End Date:</td>\n    <td class=\"histdright1\">{{'$store.variables.v_json_history_jobs[$store.variables.v_current_hjob_index].notf_end_date'|store}}</td>\n  </tr>\n  <tr>\n    <td class=\"histdleft2\">Object:</td>\n    <td class=\"histdright1\">{{'$store.variables.v_json_history_jobs[$store.variables.v_current_hjob_index].object'|store}}</td>\n  </tr>\n  <tr>\n    <td class=\"histdleft2\">Decision:</td>\n    <td class=\"histdright1\">{{'$store.variables.v_json_history_jobs[$store.variables.v_current_hjob_index].decision'|store}}</td>\n  </tr>  \n    <tr>\n    <td class=\"histdleft2\">Cause:</td>\n    <td class=\"histdright1\">{{'$store.variables.v_json_history_jobs[$store.variables.v_current_hjob_index].cause'|store}}</td>\n  </tr>\n  <tr>\n    <td class=\"histdleft2\">Job Text:</td>\n    <td class=\"histdright1\">{{'$store.variables.v_json_history_jobs[$store.variables.v_current_hjob_index].job_text'|store}}</td>\n  </tr>\n</table>","expressions":{"show":"$store.variables.v_json_history_jobs != undefined && $store.variables.v_current_hjob_index != undefined"},"$selected":false,"_auto_id_":"881b246d-f80a-459c-bf54-1d0091c86142"}],"$selected":false,"expressions":{},"_auto_id_":"3eb31ae0-b2da-460d-83ef-a9f84cc4e783"}],"$hover":false},{"name":"on_site","config":[{"name":"On-Loaded Event","type":"event","item-type":"onloaded","_auto_id_":"67d5fcc1-06b8-4c32-9d83-34f4f2e44428","actions":[{"event":"onloaded","type":"inline-function","data":{"sync":true,"code":"var now = new Date;\nvar nowYear = now.getFullYear().toString();\nvar nowMonth = (('0'+(now.getMonth()+1).toString()).slice(-2));\nvar nowDate = (('0'+now.getDate().toString()).slice(-2));\nvar nowHour = (('0'+now.getHours().toString()).slice(-2));\nvar nowMinute = (('0'+now.getMinutes().toString()).slice(-2));\nvar monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\ncti.store.pages.on_site.date_onsite = nowYear + '-' + nowMonth + '-' + nowDate;\ndocument.querySelector('#date_onsite input[type=\"text\"]').value = nowDate + ' ' + monthNames[now.getMonth()] + ', ' + nowYear;\ndocument.querySelector('input[id=\"id_time_onsite\"]').value = nowHour + ':' + nowMinute;\ncti.store.variables.v_time = nowHour + ':' + nowMinute;"},"_auto_id_":"9fd719c7-c83a-4adc-9ad3-f9f2ab54b0f2"}]}],"content":[{"name":"title_bar_2","type":"navigation","item-type":"title-bar","content":[{"name":"nav_button_left","type":"navigation","item-type":"nav-button","content":"","extends":{"type":"control","item-type":"button"},"actions":[{"event":"click","type":"go-to-page","data":"notification_details","_auto_id_":"d5b02794-0a36-46db-8801-170f3cacad55"}],"expressions":{},"theme":"default","left-icon":"fa-info-circle","$selected":false,"_auto_id_":"a7cfdbf2-901b-4416-aee5-2e427497c910"},{"name":"title_bluewithwhite","type":"content","item-type":"title","content":"<h1 class=\"bluewithwhite\">On Site</h1>","expressions":{},"$selected":false,"_auto_id_":"bd60e0e1-5e43-4853-897c-060ad09fa93b"},{"name":"nav_button_right","type":"control","item-type":"button","content":"","theme":"default","right-icon":"fa-send-o","expressions":{"disabled":"$store.pages.on_site.date_onsite == null ||  $store.variables.v_time == \"\" || $store.pages.on_site.date_onsite.substr(0,4)+$store.pages.on_site.date_onsite.substr(5,2)+$store.pages.on_site.date_onsite.substr(8,2)+$store.variables.v_time.substr(0,2)+$store.variables.v_time.substr(3,2) > $store.variables.v_onroutedate+$store.variables.v_onroutetime == false"},"actions":[{"name":"go_to_page_1","event":"click","type":"go-to-page","data":"notification_details","_auto_id_":"dd4b4086-dc34-4b8d-a834-b79e1124b946"},{"type":"if","data":{},"_auto_id_":"b4b5872e-2c3b-4825-9b9d-0e136b00475d","operations":[{"type":"value","content":"{{$store.xmpp.xmpp_1.connection_status}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"connected","$selected":false}]},{"name":"inline_function_1","event":"click","type":"inline-function","data":{"code":"cti.utils.callAction('call-function', {\"name\":\"f_senddata\",\"params\":{\"operationName\":\"onSite\"}});"},"_auto_id_":"d69f611f-663b-49ad-9bcf-9aa8dc98052b","actions":[]},{"type":"otherwise","data":{},"_auto_id_":"2bd49d7a-f47c-415d-a346-76cccc08a347"},{"event":"click","type":"xmpp-login","data":{"name":"xmpp_1","username":"{{$store.pages.start_screen.text_login}}@mitel.com","password":"{{$store.pages.start_screen.password_login}}"},"_auto_id_":"a11520ac-8920-4399-a6c1-ef481a3e1f55"},{"type":"if","data":{},"_auto_id_":"b5d68528-4a1f-436f-8f13-11d4a2d8e270","operations":[{"type":"value","content":"{{$store.xmpp.xmpp_1.last_auth_status}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"success","$selected":false}]},{"event":"click","type":"inline-function","data":{"sync":true,"code":"cti.utils.callAction('call-function', {\"name\":\"f_senddata\",\"params\":{\"operationName\":\"onSite\"}});"},"_auto_id_":"67f88f11-8598-419a-8e1e-87675c7df8cd"},{"type":"otherwise","data":{},"_auto_id_":"9d5cb02d-4773-4dda-aa20-fa8dad7a5b2c"},{"event":"click","type":"inline-function","data":{"sync":true,"code":"cti.utils.callAction('show-notification', {\"options\": { \"schedule\": false, \"dynamic\": true }, \"name\": \"send_error\", \"title\": \"Connection Error\", \"text\": \"Failed to establish connection to send data.\" });"},"_auto_id_":"1e50ab58-695b-4b08-97ad-70e38d3e6ca9"},{"type":"end-if","data":{},"_auto_id_":"dae01352-4611-47ba-b57b-0576c32ef435"},{"type":"end-if","data":{},"_auto_id_":"7a031211-605e-43ac-9a97-9d457f232ceb"}],"$selected":false,"_auto_id_":"e2139f6b-17d8-4e8a-b9c0-acff7fa4269e"}],"extends":{"type":"area","item-type":"row"},"expressions":{},"$selected":false,"_auto_id_":"762816bf-70a0-43f4-9811-f3f0c2248f9f"},{"name":"scrollable_main","type":"area","item-type":"scrollable","content":[{"name":"static_summary","type":"area","item-type":"scrollable","_auto_id_":"df4b54b5-5156-4fd2-8327-9d457e2d5d2a","content":[{"name":"html_summary","type":"content","item-type":"html","content":"<style type=\"text/css\"> \n.tg1  {border-collapse:collapse;border-spacing:0;border:none;width:96%;margin-left:2%;font-family:'Ubuntu', sans-serif;}\n.tg1 td {padding:2px 0px;border-style:solid;border:1px;width:50%}\n.tg1 .tdleft1 {text-align:left;font-size:16px;font-weight:bold;}\n.tg1 .tdleft2 {text-align:left;font-size:16px;}\n.tg1 .tdright1 {text-align:right;font-size:16px;font-weight:bold;}\n.tg1 .tdright2 {text-align:right;font-size:14px;padding:0px 2px;}\n.tg1 .tdright3{text-align:right;font-size:16px;}\n</style>\n\n<table class=\"tg1\">\n  <tr><td></td><td></td></tr>\n  <tr>\n    <td class=\"tdleft1\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].customer_name'|store}}\t\t</td>\n    <td class=\"tdright1\">#{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].notification_no'|store}}</td>\n  </tr>\n  <tr><td></td><td></td></tr>\n  <tr>\n    <td></td>\n    <td class=\"tdright2\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].address1'|store}}</td>\n  </tr>\n  <tr>\n    <td></td>\n    <td class=\"tdright2\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].address2'|store}}</td>\n  </tr>\n  <tr>\n    <td></td>\n    <td class=\"tdright2\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].address3'|store}}</td>\n  </tr>\n  <tr>\n    <td></td>\n    <td class=\"tdright2\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].city'|store}}\t\t</td>\n  </tr>  \n  <tr>\n    <td></td>\n    <td class=\"tdright2\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].postcode'|store}}</td>\n  </tr>\n  <tr><td></td><td></td></tr>\n  <tr>\n    <td class=\"tdleft2\">Type: {{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].catalogue'|store}}</td>\n    <td class=\"tdright3\">PPP: {{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].ppp_product_description'|store}}</td>\n  </tr>\n</table>","expressions":{},"$selected":false,"_auto_id_":"c7eae52d-8dda-4626-9204-2ce4e579ef8d"}],"expressions":{}},{"name":"static_dates","type":"area","item-type":"scrollable","_auto_id_":"79d5fa53-9ea6-4ec6-ae79-cb0cff20af60","content":[{"name":"date_onsite","type":"question","item-type":"date","label":"On Site Date: ","required":false,"message":"This is a required field","options":{"default":"","min":"","max":"current"},"validators":[],"expressions":{},"actions":[{"event":"change","type":"inline-function","data":{"sync":true,"code":"if (document.querySelector('#date_onsite input[type=\"text\"]').value != '')\n{\n\tvar dt = new Date(document.querySelector('#date_onsite input[type=\"text\"]').value); \n\tvar year = dt.getFullYear().toString();\n\tvar month = (dt.getMonth()+1).toString();\n\tvar date = dt.getDate().toString();\n\tvar pad = \"00\";\n\tcti.store.pages.on_site.date_onsite = year + '-' + pad.substring(0, pad.length - month.length) + month + '-' + pad.substring(0, pad.length - date.length) + date;\t\n}"},"_auto_id_":"eb410e1b-a59d-41ae-8ff7-d0a190209ee2"}],"$selected":false,"left-icon":"fa-calendar","_auto_id_":"849b50c6-186e-49c4-b816-3fddab7a93ca"},{"name":"html_time_onsite","type":"content","item-type":"html","_auto_id_":"2082f102-76f8-4dc7-a961-46819d1547ea","content":"<p style=\"font-weight: 700;\">On Site Time:</p>\n<div class=\"input-time-icon\"><span class=\"fa fa-clock-o\"></span>\n<input type=\"time\" name=\"time_onsite\" id=\"id_time_onsite\" oninput=\"window.setValue(id_time_onsite);\" /></div>","expressions":{}},{"name":"html_numbers","type":"content","item-type":"html","_auto_id_":"27c1016f-e838-45a3-a046-f53f44e6af7e","content":"<style type=\"text/css\">\n.tg1a  {border-collapse:collapse;border-spacing:0;border:none;width:99%;margin-left:0%;font-family:'Ubuntu', sans-serif;}\n.tg1a td {padding:0px 0px 20px 0px;border-style:solid;border:1px;width:50%}\n.tg1a .tdleft1 {text-align:left;font-size:14px;font-weight:bold;}\n.tg1a .tdright1 {text-align:right;font-size:14px;}\n</style>\n<table class=\"tg1a\">\n  <tr><td></td><td></td></tr>\n  <tr>\n    <td class=\"tdleft1\">Engineer Number:</td>\n    <td class=\"tdright1\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].engineer'|store}}</td>\n  </tr>\n  <tr>\n\t<td class=\"tdleft1\">Operation Number:</td>\n\t<td class=\"tdright1\">{{'$store.variables.v_json_jobs[$store.variables.v_current_job_index].operation'|store}}</td>\n  </tr>\n</table>","expressions":{}}],"expressions":{}}],"expressions":{},"$selected":false,"_auto_id_":"7366115b-7d8d-4db9-8265-5cfac759571b"}]}],"config":[{"name":"theme_1","type":"style","item-type":"theme","content":"/* area */\n#scrollable_basic, #scrollable_notf_det {\n    padding: 0px;\n  \tmargin: 0px;\n}\n\n#scrollable_basic1{\n    padding: 0px;\n    padding-left: 10px;\n}\n\n#scrollable_grid {\n    padding: 0px;\n  \tbackground-color: #F3F3F3;\n  \toverflow: auto;\n}\n\n#scrollable_leave {\n  \twidth: 100vw;\n}\n\n#scrollable_main {\n  font-family: Arial;\n  padding: 0;\n  margin: 0;\n  height: 100%;  \n  width: 100%;\n  background-color: #F3F3F3;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n#scrollable_notf_det.ng-scope.ng-isolate-scope {\n    margin-top: 0px;\n}\n\n#scrollable_select {\n  font-family:'Ubuntu', sans-serif;\n  font-size: 20px;\n  width: 100%;\n  background-color: #F3F3F3;\n  align-items: left;\n}\n\n#scrollable_start {\n  font-family: Arial;\n  padding-top: 40px;\n  margin: 0px;\n  background-color: #F3F3F3;\n  width: 100%;\n  overflow-y: auto;\n}\n\n#static_buttons {\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: flex-end;\n    padding: 0px !important;\n    background-color: transparent;\n    border: none;\n\theight: 560px;\n}\n\n#static_dates {\n    width: 96%;\n   \tpadding: 0px;\n    padding: 10px;\n  \theight: 300px;\n  \ttop: 5px;\n  \tposition: relative;\n  \tfont-family:'Ubuntu', sans-serif;\n  \tdisplay: block;\n  \tbackground-color: white;\n\n}\n\n#static_detail {\n    width: 96%;\n    padding: 0px;\n    margin: 5px;\n  \theight: 200px;\n  \tdisplay: block;\n\tbackground-color: white;\n\n}\n\n#static_download {\n   border: 0px; \n}\n\n#static_enter_notes {\n    border: 0px;\n    padding: 0px;\n    padding-left: 10px;\n    padding-top: 10px;\n    padding-right: 10px;\n  \tdisplay: block;\n}\n\n#static_login, #static_password, #static_start {\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: center;\n\tpadding: 0px;\n    margin: 0px;\n    background-color: #F3F3F3; \n    border: 0px;\n}\n\n#static_restore {\n  border: 0px;\n  height: 440px;\n  display: block;\n}\n\n#static_summary {\n    width: 100%;\n   \tpadding: 0px;\n    flex: 0.75;\n    display: block;  \n    background-color: white;\n\n}\n\n#static_tab {\n    display: flex;\n    flex-direction: row;\n  \tflex: 0;\n    background-color: #15325E;\n    height: 36px;\n    border-color: #818CA1;\n    padding-left: 14px;\n}\n\n#static_titlebar {\n  padding: 0px;\n  border: 0px;\n}\n\n/* class */\n/*.content-block {\n    margin-bottom: 20px;\n    margin-top: 0px;\n}*/\n.panel\n{\n   -webkit-box-shadow: 0 0 !important;\n   box-shadow: 0 0 !important;\n}\n\n.bluewithwhite {\n   background-color: #15325E;\n   color: white;\n}\n\n.headingGray {\n \tfont-family: Calibri;\n \tfont-size: 20px;\n\tcolor: gray;\n}\n\nli.list-group-item {\n    padding-left: 2px;\n    padding-top: 15px;\n    padding-bottom: 15px;\n}\n\n.ng-scope.ng-isolate-scope {\n    margin-top: 40px;\n}\n\n.image-viewer-container {\n    align-items: center;\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n}\n\n.input-group-addon {\n    padding: 0px;  \n}\n\n.input-time-icon {\n  \twidth: 44px;\n  \theight: 44px;\n\tcolor: #FFF;\n\tbackground-color: #1f314c !important;\n\tfont-size: 14px;\n\tfont-weight: 400;\n\ttext-align: center;\n  \tpadding-top: 14px;\n\tline-height: 1;\n  \tleft: 40px;\n  \tposition: relative;\n}\n\n.input-time-icon-left {\n  \twidth: 44px;\n  \theight: 44px;\n\tcolor: #FFF;\n\tbackground-color: #1f314c !important;\n\tfont-size: 14px;\n\tfont-weight: 400;\n\ttext-align: center;\n  \tpadding-top: 14px;\n\tline-height: 1;\n  \tleft: 38px;\n  \tposition: relative;\n}\n\n.input-time-icon-right {\n  \twidth: 44px;\n  \theight: 44px;\n\tcolor: #FFF;\n\tbackground-color: #1f314c !important;\n\tfont-size: 14px;\n\tfont-weight: 400;\n\ttext-align: center;\n  \tpadding-top: 14px;\n\tline-height: 1;\n  \tleft: 50px;\n  \tposition: relative;\n}\n\n.input-group {\n    left: -5%;\n}\n\ninput[type=\"time\"] {\n  \t-webkit-appearance: none;\n  \t-moz-appearance: none;  \n\twidth: 49vw;\n\tleft: 44px;\n  \ttop: -28px;\n   \theight: 44px;\n  \tpadding-left: 70px;\n  \tborder-radius: 0px;\n  \tborder: 0px;\n\tposition: relative;\n\tbackground-color: #f1f1f1;\n  \tcolor: black;\n  \tfont-family:'Ubuntu', sans-serif;\n}\n\n.fa-user:before {\n    content: \"\\f007\";\n    color: #15325E;\n    background-color: #F3F3F3;\n    font-size: large;\n}\n\n.fa-lock:before {\n    content: \"\\f023\";\n    color: #15325E;\n    background-color: #F3F3F3;\n    font-size: large;\n}\n\n.fa-check-circle:before {\n    content: \"\\f058\";\n    color: #01A0F4;\n    font-size: 22px;\n    padding: 0px;\n}\n\n.fa-circle-o:before {\n    content: \"\\f10c\";\n    color: #01A0F4;\n    font-size: 22px;\n    padding: 0px;\n}\n\n.container.md-checkbox-container {\n    height: 45px;\n    padding-left: 0px;  \n    left: 0px;\n    position: relative;\n}\n\n.checkbox-element {\n    width: 130px;\n}\n\n.form-group {\n \tpadding-top: 10px; \n}\n\n#title_1 {\n    align-self: center;\n}\n\n#titleDP, #titleCT {\n    color: black;\n    font-weight: 700;\n    font-family:'Ubuntu', sans-serif;\n    font-size: 20px;\n}\n\n#titleCS,#titleCW,#titleCC,#titleDC,#titleOB {\n    color: black;\n    font-weight: 700;\n    font-family: 'Ubuntu', sans-serif;\n    font-size: 14px;\n}\n\n#text_custclear, #text_clearwith {\n    font-size: 11pt;\n    width: 98%;\n}\n\n#select_object, #select_cause, #select_decision, #select_latereason {\n  width: 96%;\n}\n\n#image_log_top {\n  top: 20px;\n  position: absolute;\n}\n  \n/* title bar */\n#title_bar_1 {\n  background-color: #F3F3F3;\n  display: flex;\n}\n\n#title_bar_2 {\n   background-color: #15325E; \n}\n\n#list_other, #list_history {\n    width: 665px;\n}\n\n#list_jobs {\n    padding-left: 3px;\n\twidth: 647px;  \n    top: -20px;\n    position: relative;\n}\n\n#html_other_detail, #html_history_detail {\n  top: -35px;\n  position: relative;\n}\n\n#text_enter_notes {\n    height: 360px;\n}\n\n#radio_restore_flag {\n    padding-top: 50px;\n  \theight: 400px;\n}\n\n#text_login, #password_login {\n \twidth: 200px; \n   \tbackground: transparent;\n    color: #15325E;\n    font-size: 16px;\n    border-bottom-color: #15325E;\n    border-top: 0px;\n    border-left: 0px;\n    border-right: 0px;\n}\n\na#button_start {\n    background-color: #01A0F4;\n    color: white;\n\twidth: 260px;\n \tpadding-top: 15px;\n    padding-bottom: 15px;\n  \talign-items: baseline;\n}\n\n#button_start {\n  \tpadding-bottom: 30px;\n}\n\n#button_tab_notes {\n  \twidth: 55px;\n}\n\n#button_tab_onsite {\n  \twidth: 63px;\n}\n\n#button_tab_onroute {\n\twidth: 81px;\t \n}\n\n#button_tab_parts { \n  \twidth:53px;\n}\n\n#button_tab_info {\n    width: 44px;\n}\n\n#button_tab_leave {\n\twidth: 51px;  \n}\n\n#button_tab_other {\n\twidth:56px;\n}\n\n#button_tab_history {\n\twidth:68px;\n}\n\n#button_tab_wknotes {\n\twidth:55px;\n}\n\n#button_tab_wrkins {\n\twidth:110px;\n}\n\n/* nav button */\na#nav_button_left {\n    background-color: #15325E;\n    color: white;\n    position: fixed;\n    left: 0px;\n    top: 17px;  \n  \tborder: 0px;\n}\n\na#nav_button_menu {\n    background-color: #F3F3F3;\n    color: #15325E;\n    position: fixed;\n    left: 15px;\n    top: 15px;  \n  \tborder: 0px;\n}\n\na#nav_button_refresh {\n    background-color: #F3F3F3;\n    color: #15325E;\n    position: fixed;\n    right: 15px;\n    top: 15px;\n    border: 0px;\n}\n\na#nav_button_right {\n    background-color: #15325E;\n    color: white;\n    position: fixed;\n    right: 0px;\n    top: 17px;\n    border: 0px;\n}\n\ndiv[classes=\"tabButtons\"] a {\n    background-color: #15325E;\n    color: white;\n    position: relative;\n    top: -27px;\t\n\tpadding-left: 2px;   \n    border: 0px;  \n}\n\n.loadingspinner {\n  position: fixed;\n  z-index: 999;\n  height: 1em;\n  width: 1em;\n  overflow: show;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  color: @white;\n  opacity: 0.3;\n}\n\ndiv.loadingspinner {\n    font: normal normal normal 164px/1 FontAwesome;\n}\ndiv.loadingspinner:before{\n  content:'\\f110';\n  color:@white;\n}\n","$selected":false,"_auto_id_":"986ae737-5d55-4ab3-961f-152f6e3e4ff9"},{"name":"xmpp_1","type":"integration","item-type":"xmpp","endpoint":"wss://mobdata.mitel.com:5280/websocket","$selected":false,"_auto_id_":"712fb025-f929-41b0-80c5-73d5f9a57432","ping-time":5000,"actions":[{"type":"if","data":{},"_auto_id_":"9c5a2e65-fe7f-46a0-b8a0-c4bec2c123a2","operations":[{"type":"value","content":"{{$store.variables.v_logging_out}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"false","$selected":false}]},{"event":"disconnected","type":"xmpp-login","data":{"name":"xmpp_1","username":"{{$store.pages.start_screen.text_login}}@mitel.com","password":"{{$store.pages.start_screen.password_login}}"},"_auto_id_":"3810e9dd-afd0-4a89-b406-02dd585a9931"}],"ping-timeout":200},{"name":"cancel_job","type":"notification","item-type":"app-notification","_auto_id_":"41d498d2-36da-4797-845c-aaa8afb4d719","options":{"closeButton":true,"autoDismiss":false},"style":"info","title":"Job Cancellation","text":"You job has been cancelled.","actions":[]},{"name":"login_failure","type":"notification","item-type":"app-notification","options":{"closeButton":true},"style":"error","title":"Login failed!","text":"Your user name or password is incorrect.","$selected":false,"_auto_id_":"714a6bed-59e3-4c12-bd63-7a746371a01c","actions":[]},{"name":"send_error","type":"notification","item-type":"app-notification","_auto_id_":"2e0ed156-f7ed-42c0-8a33-abdc2bf09736","options":{"closeButton":true},"style":"error","title":"Error Sending Data","text":"Data failed to reach SAP."},{"name":"send_success","type":"notification","item-type":"app-notification","_auto_id_":"0db50f0c-adf2-4aeb-9d0a-41b3334b12c3","options":{},"style":"success","text":"Data sent successfully."},{"name":"On-Load Event","type":"event","item-type":"onload","_auto_id_":"4415090f-bc47-4917-9329-70134c5a625a","actions":[{"event":"onload","type":"inline-function","data":{"sync":false,"code":"var schema = angular.element(document.body).injector().get(\"SchemaHelper\").schema;\nschema.config[2].options.timeOut = 0;\nschema.config[2].options.extendedTimeOut = 0;\nschema.config[3].options.timeOut = 0;\nschema.config[3].options.extendedTimeOut = 0;\nschema.config[4].options.timeOut = 0;\nschema.config[4].options.extendedTimeOut = 0;\nschema.config[5].options.timeOut = 0;\nschema.config[5].options.extendedTimeOut = 0;\nvar meta = document.createElement('meta');\nmeta.setAttribute('name','format-detection');\nmeta.setAttribute('content','telephone=no');\ndocument.getElementsByTagName('head')[0].appendChild(meta);"},"_auto_id_":"aca19844-30c4-4a99-bedc-737e87a90fa1","actions":[]}]},{"name":"js_asset_2","type":"script","item-type":"js-asset","_auto_id_":"bc2090be-0df7-4b0a-9afa-b36801e6b8c2","fileName":"settimevalue.js"},{"name":"f_add_listener","type":"script","item-type":"function","_auto_id_":"e812332e-7c0b-4cd7-863d-0d3bd9d9dd82","sync":false,"params":[],"content":"cti.api.xmpp_connection.addHandler(recvMessage, null, 'message', null, null, 'api@mitelbot.mitel.com', {matchBareFromJid: true});\n\nfunction recvMessage(message) {\n  console.log('received cancel job message: ', message);\n  var msgText = message.querySelector('body');\n  if (msgText != null)\n  {\n    cti.utils.callAction('call-function', {\"name\":\"f_getdata\",\"params\":{\"userName\":\"{{$store.pages.start_screen.text_login}}\",\"operationName\":\"getServiceOrder\"}});\n\tcti.utils.callAction('call-function', {\"name\":\"f_getdata\",\"params\":{\"userName\":\"{{$store.pages.start_screen.text_login}}\",\"operationName\":\"getWorkInstruction\"}});\n\tcti.utils.callAction('call-function', {\"name\":\"f_getdata\",\"params\":{\"userName\":\"{{$store.pages.start_screen.text_login}}\",\"operationName\":\"getNoteText\"}});\n\tcti.utils.callAction('call-function', {\"name\":\"f_getdata\",\"params\":{\"userName\":\"{{$store.pages.start_screen.text_login}}\",\"operationName\":\"getHistoryJob\"}});\n\tcti.utils.callAction('call-function', {\"name\":\"f_getdata\",\"params\":{\"userName\":\"{{$store.pages.start_screen.text_login}}\",\"operationName\":\"getOtherJob\"}});    \n    cti.utils.callAction('show-notification', {\"options\": { \"schedule\": false, \"dynamic\": true }, \"name\": \"cancel_job\", \"text\": msgText.innerHTML});\n  }\n  else\n  {\n    cti.store.variables.v_notf_cancel_job = null;\n  }\n  return true;\n}\n\n\n","actions":[]},{"name":"f_autocomplete","type":"script","item-type":"function","params":[{"name":"dd_name","description":"Name of Dropdown List"}],"content":"jQuery(function(){\n  var dropdownlist;\n  if (dd_name == \"Cause\")\n  { \n    dropdownlist = cti.store.variables.v_json_cause;\n\t\n\tjQuery('#autocompleteCS').autocomplete({\n    lookup: dropdownlist,\n    onSelect: function (suggestion) {\n\t\tcti.store.variables.v_selected_cause = suggestion.data;\n        $(\"#autocompleteCS\").css(\"border-color\", \"#3c763d\");\n        $(\"#titleCS\").css(\"color\", \"#3c763d\");\n\t\tcti.utils.updatePage();\n\t\t}\n\t});\t\n  }  \n  else if (dd_name == \"LateReason\")\n  { \n    dropdownlist = cti.store.variables.v_json_latereason;\n\t\n\tjQuery('#autocompleteCC').autocomplete({\n    lookup: dropdownlist,\n    onSelect: function (suggestion) {\n\t\tcti.store.variables.v_selected_latereason = suggestion.data;\n        $(\"#autocompleteCC\").css(\"border-color\", \"#3c763d\");\n        $(\"#titleCC\").css(\"color\", \"#3c763d\");\n\t\tcti.utils.updatePage();\n\t\t}\n\t});\t\n  }  \n   else if (dd_name == \"Decision\")\n  { \n    dropdownlist = cti.store.variables.v_json_decision;\n\t\n\tjQuery('#autocompleteDC').autocomplete({\n    lookup: dropdownlist,\n    onSelect: function (suggestion) {\n\t\tcti.store.variables.v_selected_decision = suggestion.data;\n        $(\"#autocompleteDC\").css(\"border-color\", \"#3c763d\");\n        $(\"#titleDC\").css(\"color\", \"#3c763d\");\n\t\tcti.utils.updatePage();\n\t\t}\n\t});\t\n  }  \n  else if (dd_name == \"Object\")\n  { \n    dropdownlist = cti.store.variables.v_json_object;\n\t\n\tjQuery('#autocompleteOB').autocomplete({\n    lookup: dropdownlist,\n    onSelect: function (suggestion) {\n\t\tcti.store.variables.v_selected_object = suggestion.data;\n        $(\"#autocompleteOB\").css(\"border-color\", \"#3c763d\");\n        $(\"#titleOB\").css(\"color\", \"#3c763d\");\n\t\tcti.utils.updatePage();\n\t\t}\n\t});\t\n  }    \n});","_auto_id_":"c10ed5fb-e666-4d87-8814-27bc569d8b0c","actions":[]},{"name":"f_cleardata","type":"script","item-type":"function","_auto_id_":"3a1b2749-541b-468c-a6c3-b8d3bacd3ba1","sync":true,"params":[],"content":"cti.store.variables.v_json_jobs = [];\ncti.store.variables.v_json_work_instructions = [];\ncti.store.variables.v_json_notes = [];\ncti.store.variables.v_json_all_history_jobs = [];\ncti.store.variables.v_json_all_other_jobs = [];\ncti.store.variables.v_error_retrieve = false;\ncti.store.variables.v_show_latereason = false;\ncti.store.variables.v_in_progress = false;\ncti.store.variables.v_onroutedate = '';\ncti.store.variables.v_onroutetime = '';\ncti.store.variables.v_onsitedate = '';\ncti.store.variables.v_onsitetime = '';"},{"name":"f_getdata","type":"script","item-type":"function","params":[{"name":"operationName","required":true},{"name":"userName"}],"content":"var requestID = cti.api.xmpp_connection.getUniqueId();\n\nvar parm1;\nparm1 = '{ \"username\": \"' + userName + '\"}';\n\ncti.api.xmpp_connection.send(\n  \t$msg({to: 'api@mitelbot.mitel.com', type: 'normal'})\n\t.c('call', {xmlns: 'urn:commontime:infinity:api', 'request-id': requestID, type: 'get', name: operationName})\n    .c('json', {xmlns: 'urn:xmpp:json:0'}, parm1)\n\t.tree()\n);\t\n\ncti.api.xmpp_connection.addHandler(recvMessage, 'urn:commontime:infinity:api', 'message', null, null, 'api@mitelbot.mitel.com', {matchBareFromJid: true});\n\nfunction recvMessage(message) {\n  var call = message.querySelector('call'); \n\n  if (call && call.getAttribute(\"type\") === 'result' && call.getAttribute(\"request-id\") === requestID) \n  {    \n    var jdata = call.querySelector('json').textContent;\n    if (operationName == 'getServiceOrder')\n    {\n \t\tcti.store.variables.v_json_jobs = [];\n    \tcti.store.variables.v_json_jobs = JSON.parse(jdata).data;\n      \tcti.utils.updatePage();\n    }\n    else if (operationName == 'getWorkInstruction')\n    {\n \t\tcti.store.variables.v_json_work_instructions = [];\n    \tcti.store.variables.v_json_work_instructions = JSON.parse(jdata).data;\n    }\n    else if (operationName == 'getNoteText')\n    {\n \t\tcti.store.variables.v_json_notes = [];\n    \tcti.store.variables.v_json_notes = JSON.parse(jdata).data;\n    }\n    else if (operationName == 'getHistoryJob')\n    {\n \t\tcti.store.variables.v_json_all_history_jobs = [];\n    \tcti.store.variables.v_json_all_history_jobs = JSON.parse(jdata).data;\n    }\n    else if (operationName == 'getOtherJob')\n    {\n \t\tcti.store.variables.v_json_all_other_jobs = [];\n    \tcti.store.variables.v_json_all_other_jobs = JSON.parse(jdata).data;\n    }\n    \n    return false;\n  }\n  return true;\n}\n","$selected":false,"_auto_id_":"17426785-b1d6-45c4-918d-738e70f98a2d","actions":[]},{"name":"f_getstatcidata","type":"script","item-type":"function","params":[{"name":"operationName","description":"API Operation Name","required":true}],"content":"var requestID = cti.api.xmpp_connection.getUniqueId();\n\ncti.api.xmpp_connection.send(\n  \t$msg({to: 'api@mitelbot.mitel.com', type: 'normal'})\n\t.c('call', {xmlns: 'urn:commontime:infinity:api', 'request-id': requestID, type: 'get', name: operationName})\n\t.tree()\n);\t\n\ncti.api.xmpp_connection.addHandler(recvMessage, 'urn:commontime:infinity:api', 'message', null, null, 'api@mitelbot.mitel.com', {matchBareFromJid: true});\n\nfunction recvMessage(message) {\n  var call = message.querySelector('call'); \n  if (call && call.getAttribute(\"type\") === 'result' && call.getAttribute(\"request-id\") === requestID) \n  {    \n    var jdata = call.querySelector('json').textContent;\n    \n    if (operationName == 'getDeliveryTime')\n    {\n \t\tcti.store.variables.v_json_deltime = [];\n    \tcti.store.variables.v_json_deltime = JSON.parse(jdata).data;\n    }\n    else if (operationName =='getLateReason')\n    {\n \t\tcti.store.variables.v_json_latereason = [];\n    \tcti.store.variables.v_json_latereason = JSON.parse(jdata).data;      \n    }\n    else if (operationName =='getObject')\n    {\n \t\tcti.store.variables.v_json_object = [];\n    \tcti.store.variables.v_json_object = JSON.parse(jdata).data;      \n    }\n    else if (operationName =='getCause')\n    {\n \t\tcti.store.variables.v_json_cause = [];\n    \tcti.store.variables.v_json_cause = JSON.parse(jdata).data;      \n    }\n    else if (operationName =='getDecision')\n    {\n \t\tcti.store.variables.v_json_decision = [];\n    \tcti.store.variables.v_json_decision = JSON.parse(jdata).data;      \n    }    \n    else if (operationName =='getGroup')\n    {\n \t\tcti.store.variables.v_json_group = [];\n    \tcti.store.variables.v_json_group = JSON.parse(jdata).data;      \n    }    \n    else if (operationName =='getAllParts')\n    {\n \t\tcti.store.variables.v_json_all_parts = [];\n    \tcti.store.variables.v_json_all_parts = JSON.parse(jdata).data;\n      \n        cti.store.variables.v_json_group = [];\n        var lookup = {};\n        var items = cti.store.variables.v_json_all_parts;\n        for(var item, i=0; item=items[i++];){\n          var part_group1 = item.part_group1;\n          if(!(part_group1 in lookup)){\n            lookup[part_group1] = 1;\n            cti.store.variables.v_json_group.push({\n              \"value\": part_group1,\n              \"data\": part_group1\n            });\n          }\n        }\n        \n    }        \n    return false;\n  }\n  \n   if (message && message.getAttribute(\"type\") === 'error' && cti.store.variables.v_error_retrieve == false) \n  { \n    var err = message.querySelector('error'); \n    var txt = err.querySelector('text').textContent;\n    cti.store.variables.v_error_retrieve = true;\n    cti.utils.callAction('show-notification', {\"options\": { \"schedule\": false, \"dynamic\": true }, \"name\": \"send_error\", \"title\": \"Error Retrieving Data\", \"text\": txt});\n    return false;\n  }\n  \n  return true;\n}","_auto_id_":"6ee9ca68-2775-48b9-b06e-d65e34d73fc5","actions":[]},{"name":"f_getstaticdata_select","type":"script","item-type":"function","_auto_id_":"fcd580d3-6d57-4503-b176-efc0e2c02942","sync":true,"params":[{"name":"operationName","description":"API Operation Name","required":true},{"name":"selectedValue1","description":"Selected First Value for Next Dropdown"},{"name":"selectedValue2","description":"Selected Second Value for Next Dropdown"}],"actions":[],"content":"var requestID = cti.api.xmpp_connection.getUniqueId();\n\nvar parm1;\nif (operationName == 'getPart')\n{\n\tparm1 = '{ \"selected1\": \"' + selectedValue1 + '\"}';\n}\nelse if (operationName =='getPartNumber')\n{\n\tparm1 = '{ \"selected1\": \"' + selectedValue1 + '\", \"selected2\": \"' + selectedValue2 + '\" }';  \n}\n\ncti.api.xmpp_connection.send(\n  \t$msg({to: 'api@mitelbot.mitel.com', type: 'normal'})\n\t.c('call', {xmlns: 'urn:commontime:infinity:api', 'request-id': requestID, type: 'get', name: operationName})\n  \t.c('json', {xmlns: 'urn:xmpp:json:0'}, parm1)\n\t.tree()\n);\t\n\ncti.api.xmpp_connection.addHandler(recvMessage, 'urn:commontime:infinity:api', 'message', null, null, 'api@mitelbot.mitel.com', {matchBareFromJid: true});\n\nfunction recvMessage(message) {\n  var call = message.childNodes[0]; \n  if (call && call.getAttribute(\"type\") === 'result' && call.getAttribute(\"request-id\") === requestID) \n  {    \n    var jdata = call.childNodes[0].childNodes[0].data;\n    \n    if (operationName == 'getPart')\n    {\n      \tcti.store.variables.v_json_part = \"\";\n      \tcti.store.variables.v_json_partnumber = \"\";\n      \tcti.store.pages.add_parts.select_part_no = \"\";\n    \tcti.store.variables.v_json_part = JSON.parse(jdata).data;\n      \tcti.utils.updatePage();\n    }\n    else if (operationName =='getPartNumber')\n    {\n\t\tcti.store.variables.v_json_partnumber = \"\";\n      \tcti.store.pages.add_parts.select_part_no = \"\";      \n    \tcti.store.variables.v_json_partnumber = JSON.parse(jdata).data;      \n      \tcti.utils.updatePage();\n    }  \n    else\n    {\n     \tcti.store.variables.v_json_part = \"\";\n      \tcti.store.variables.v_json_partnumber = \"\";\n      \tcti.store.pages.add_parts.select_part_no = \"\";\n      \tcti.utils.updatePage();\n    }\n    return false;\n  }\n  return true;\n}"},{"name":"f_senddata","type":"script","item-type":"function","_auto_id_":"68800fff-ae17-4eaa-8a67-232b8126f575","sync":false,"params":[{"name":"operationName"}],"content":"var requestID = cti.api.xmpp_connection.getUniqueId();\n\nvar now = new Date;\nvar nowDate = now.getFullYear().toString()+(('0'+(now.getMonth()+1).toString()).slice(-2))+(('0'+now.getDate().toString()).slice(-2));\nvar nowTime = (('0'+now.getHours().toString()).slice(-2))+(('0'+now.getMinutes().toString()).slice(-2));\n\nvar parms={};\nif (operationName == 'escalate' || operationName == 'follow')\n{\n  var endDate;\n  var endTime;\n  if (cti.store.pages.leave_site.date_leave == null)\n  {\n    endDate = cti.store.pages.restore_service.date_restored.substr(0,4)+cti.store.pages.restore_service.date_restored.substr(5,2)+cti.store.pages.restore_service.date_restored.substr(8,2);\n\tendTime = document.querySelector('input[id=\"id_time_restored\"]').value.substr(0,2)+document.querySelector('input[id=\"id_time_restored\"]').value.substr(3,2);\n  }\n  else\n  {\n  \tendDate = cti.store.pages.leave_site.date_leave.substr(0,4)+cti.store.pages.leave_site.date_leave.substr(5,2)+cti.store.pages.leave_site.date_leave.substr(8,2);\n\tendTime = document.querySelector('input[id=\"id_time_leave\"]').value.substr(0,2)+document.querySelector('input[id=\"id_time_leave\"]').value.substr(3,2);\n  }\n  \n  parms = '{ \"PMORDER\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].pmorder + '\", \"OPERATION\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].operation + '\", \"ENGINEER\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].engineer +  '\", \"TASK\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].task + '\", \"DATE\": \"' + endDate + '\", \"TIME\": \"'+ endTime + '\"}';\n}\nelse if (operationName == 'onSite')\n{\n\tcti.store.variables.v_onsitedate = cti.store.pages.on_site.date_onsite.substr(0,4)+cti.store.pages.on_site.date_onsite.substr(5,2)+cti.store.pages.on_site.date_onsite.substr(8,2);\n\tcti.store.variables.v_onsitetime = document.querySelector('input[id=\"id_time_onsite\"]').value.substr(0,2)+document.querySelector('input[id=\"id_time_onsite\"]').value.substr(3,2);\n                                                              \n\tparms = '{ \"PMORDER\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].pmorder + '\", \"OPERATION\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].operation + '\", \"ENGINEER\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].engineer +  '\", \"TASK\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].task + '\", \"DATE\": \"' + cti.store.variables.v_onsitedate + '\", \"TIME\": \"'+ cti.store.variables.v_onsitetime + '\"}';  \n}\nelse if (operationName == 'onRoute')\n{\n\tcti.store.variables.v_onroutedate = cti.store.pages.on_route_entry.date_onroute.substr(0,4)+cti.store.pages.on_route_entry.date_onroute.substr(5,2)+cti.store.pages.on_route_entry.date_onroute.substr(8,2);\n\tcti.store.variables.v_onroutetime = document.querySelector('input[id=\"id_time_onroute\"]').value.substr(0,2)+document.querySelector('input[id=\"id_time_onroute\"]').value.substr(3,2);\n  \n\tparms = '{ \"PMORDER\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].pmorder + '\", \"OPERATION\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].operation + '\", \"ENGINEER\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].engineer +  '\", \"TASK\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].task + '\", \"DATE\": \"' + cti.store.variables.v_onroutedate + '\", \"TIME\": \"'+ cti.store.variables.v_onroutetime + '\"}';  \n}\nelse if (operationName == 'addNote')\n{\n  var textArray = [];\n  var i = 0;\n  var str = cti.store.pages.enter_notes.text_enter_notes;\n  while (i <= str.length)\n  {\n      var txt = str.substr(i,70);\n      textArray.push({\"TEXT\": txt});\n      i = i + 70;\n  } \n  if (cti.store.variables.v_json_enter_notes === undefined) \n  {\n    cti.store.variables.v_json_enter_notes = [];\n  }\n  if (str.length > 0)\n  {\n     cti.store.variables.v_json_enter_notes = [];\n\t cti.store.variables.v_json_enter_notes.push({\"PMORDER\":cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].pmorder,    \n\t\t\"OPERATION\": cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].operation,\n\t\t\"ENGINEER\": cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].engineer,\n\t\t\"TASK\": cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].task,\n\t\t\"item\": textArray\n\t});\n    parms = JSON.stringify(cti.store.variables.v_json_enter_notes[0]);\n }\n}\nelse if (operationName == 'addPart')\n{\n\tvar qty = \"\" + cti.store.pages.add_parts.number_qty;\n\tvar pad = \"0000\";\n\tvar qtyText = pad.substring(0, pad.length - qty.length) + qty;\n\tcti.store.variables.v_json_add_part = [];\n\tcti.store.variables.v_json_add_part.push({\"PMORDER\":cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].pmorder,    \n\t\t\"OPERATION\": cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].operation,\n\t\t\"ENGINEER\": cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].engineer,\n\t\t\"TASK\": cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].task,\n\t\t\"PART\": cti.store.pages.add_parts.select_part_no.value,\n\t\t\"QTY\": qtyText,\n\t\t\"SHPCND\": cti.store.pages.order_parts.select_delivery_tm.value,\n\t\t\"CONTCT\": cti.store.pages.order_parts.text_contact,\n\t\t\"DELPNT\": cti.store.pages.order_parts.text_delivery_point\n\t});\n    parms = JSON.stringify(cti.store.variables.v_json_add_part[0]);\n}\nelse if (operationName == 'restored')\n{\n\tvar restoredDate = cti.store.pages.restore_service.date_restored.substr(0,4)+cti.store.pages.restore_service.date_restored.substr(5,2)+cti.store.pages.restore_service.date_restored.substr(8,2);\n\tvar restoredTime = document.querySelector('input[id=\"id_time_restored\"]').value.substr(0,2)+document.querySelector('input[id=\"id_time_restored\"]').value.substr(3,2);\n  \n\tparms = '{ \"PMORDER\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].pmorder + '\", \"OPERATION\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].operation + '\", \"ENGINEER\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].engineer +  '\", \"TASK\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].task + '\", \"DATE\": \"' + restoredDate + '\", \"TIME\": \"'+ restoredTime + '\"}';  \n}\nelse if (operationName == 'close')\n{\n\tvar closeDate = cti.store.pages.leave_site.date_leave.substr(0,4)+cti.store.pages.leave_site.date_leave.substr(5,2)+cti.store.pages.leave_site.date_leave.substr(8,2);\n\tvar closeTime = document.querySelector('input[id=\"id_time_leave\"]').value.substr(0,2)+document.querySelector('input[id=\"id_time_leave\"]').value.substr(3,2);\n\tvar objGrp = '';\n  \tvar objCode = '';\n  \tvar decGrp = '';\n  \tvar decCode = '';\n  \tvar cseGrp = '';\n  \tvar cseCode = '';\n  \tvar custclTxt = '';\n\tvar lateCode = '';\n\tif (cti.store.pages.leave_site.select_object != undefined)\n    {\n  \n      if (cti.store.pages.leave_site.select_object != '')\n      {\n    \tobjGrp = cti.store.pages.leave_site.select_object.value.substr(5,8);\n\t\tobjCode = cti.store.pages.leave_site.select_object.value.substr(0,4);\n      }\n    }\n\t\n\tif (cti.store.pages.leave_site.select_decision != undefined)\n    {\n      if (cti.store.pages.leave_site.select_decision != '')\n      {\n    \tdecGrp = cti.store.pages.leave_site.select_decision.value.substr(5,8);\n\t\tdecCode = cti.store.pages.leave_site.select_decision.value.substr(0,4);\n      }\n    }\n  \n\tif (cti.store.pages.leave_site.select_cause != undefined)\n    {\n      if (cti.store.pages.leave_site.select_cause != '')\n      {\n    \tcseGrp = cti.store.pages.leave_site.select_cause.value.substr(5,8);\n\t\tcseCode = cti.store.pages.leave_site.select_cause.value.substr(0,4);\n      }\n    }\n\n\tvar clearedWith = cti.store.pages.leave_site.text_clearwith;\n\tcustclTxt = cti.store.pages.leave_site.text_custclear;\n\n  \tif (cti.store.pages.leave_site.select_latereason != undefined)\n    {\n      if (cti.store.pages.leave_site.select_latereason != '')\n      {\n    \tlateCode = cti.store.pages.leave_site.select_latereason.value;\n      }\n    }\n\t\n\tparms = '{ \"PMORDER\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].pmorder + '\", \"OPERATION\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].operation + '\", \"ENGINEER\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].engineer +  '\", \"TASK\": \"' + cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].task + '\", \"OBJGRP\": \"' + objGrp + '\", \"OBJECT\": \"' + objCode + '\", \"DECGRP\": \"' + decGrp + '\", \"DECISN\": \"' + decCode + '\", \"CSEGRP\": \"' + cseGrp + '\", \"CAUSE\": \"' + cseCode + '\", \"CSTREF\": \"' + clearedWith + '\", \"DATE\": \"' + closeDate + '\", \"TIME\": \"'+ closeTime + '\", \"COLECT\": \"\", \"COLEPT\": \"\", \"CAUSTXT\": \"' + custclTxt + '\", \"LATECODE\": \"' + lateCode + '\"}';  \n}\n\nif (parms.length > 0)\n{\n  console.log('sending '+operationName+' data: ', parms);\n  cti.api.xmpp_connection.send(\n      $msg({to: 'api@mitelbot.mitel.com', type: 'normal'})\n      .c('call', {xmlns: 'urn:commontime:infinity:api', 'request-id': requestID, type: 'get', name: operationName})\n      .c('json', {xmlns: 'urn:xmpp:json:0'}, parms)\n      .tree()\n  );\t\n\n  cti.api.xmpp_connection.addHandler(recvMessage, 'urn:commontime:infinity:api', 'message', null, null, \n                                     'api@mitelbot.mitel.com', {matchBareFromJid: true});\n}\n\nfunction recvMessage(message) {\n  var call = message.querySelector('call'); \n  console.log(call);\n  if (call && call.getAttribute(\"type\") === 'result' && call.getAttribute(\"request-id\") === requestID) \n  {    \n    var jdata = call.querySelector('json').textContent;\n    if (JSON.parse(jdata).error == null && JSON.parse(jdata).data.E_MESSAGE.item.length < 2)\n    {\n      if (operationName == 'onRoute')\n      {\n        cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].sent_onroute = '1';\n        var found = 0;\n\t\tfor(var i = 0; i < cti.store.variables.v_json_jobs.length; i++)\n\t\t{\n  \t\t\tif(cti.store.variables.v_json_jobs[i].status == 'In Progress')\n  \t\t\t{\n    \t\t\tfound++;\n  \t\t\t}\n\t\t}\n        if (found == 0)\n        {\n        \tcti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].status = 'In Progress';\n          \tcti.store.variables.v_in_progress = true;\n        }\n        cti.store.pages.on_route_entry.date_onroute = null;\n\t\tdocument.querySelector('#date_onroute input[type=\"text\"]').value = '';\n\t\tdocument.querySelector('input[id=\"id_time_onroute\"]').value = '';\n        cti.store.variables.v_time = '';\n        cti.utils.updatePage();\n      }\n      else if (operationName == 'onSite')\n      {\n        cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].sent_onsite = '1';\n        cti.store.pages.on_site.date_onsite = null;\n\t\tdocument.querySelector('#date_onsite input[type=\"text\"]').value = '';\n\t\tdocument.querySelector('input[id=\"id_time_onsite\"]').value = '';\n        cti.store.variables.v_time = '';\n        cti.utils.updatePage();\n      }\n      else if (operationName == 'restored')\n      {\n\t\tcti.store.pages.restore_service.date_restored = null;\n\t\tdocument.querySelector('#date_restored input[type=\"text\"]').value = ''\n\t\tdocument.querySelector('input[id=\"id_time_restored\"]').value = ''\n        cti.store.pages.restore_service.radio_restored = '';\n        cti.store.variables.v_time = '';\n\t\tcti.utils.updatePage();        \n      }\n      else if (operationName == 'addNote')\n      {\n        cti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].sent_notes = '1';\n        cti.store.pages.enter_notes.text_enter_notes = '';\n        cti.store.variables.v_json_enter_notes = [];\n        cti.utils.updatePage();\n      }\n      else if (operationName == 'addPart')\n      {\n        cti.store.pages.order_parts.select_delivery_tm = '';\n        cti.store.pages.order_parts.text_delivery_point = '';\n        cti.store.pages.order_parts.text_contact = '';\n        cti.store.pages.add_parts.select_group='';\n        cti.store.pages.add_parts.select_part = '';\n        cti.store.pages.add_parts.select_part_no='';\n        cti.store.pages.add_parts.number_qty = '';\n        cti.utils.updatePage();\n      }\n      else if (operationName == 'follow' || operationName == 'escalate')\n      {\n        cti.store.variables.v_show_latereason = false;\n        cti.store.pages.leave_site.radio_close_notf = 'N';\n        cti.store.pages.leave_site.radio_escalate = 'N';  \n        cti.store.variables.v_onroutedate = '';\n\t\tcti.store.variables.v_onroutetime = '';\n\t\tcti.store.variables.v_onsitedate = '';\n\t\tcti.store.variables.v_onsitetime = '';\n        cti.store.pages.leave_site.date_leave = null;\n\t\tdocument.querySelector('#date_leave input[type=\"text\"]').value = '';\n        document.querySelector('input[id=\"id_time_leave\"]').value = '';\n        cti.store.variables.v_time = '';\n        if (cti.store.variables.v_current_job_index > -1)\n        {\n          cti.store.variables.v_json_jobs.splice(cti.store.variables.v_current_job_index,1);\n\t\t  cti.store.variables.v_json_work_instructions.splice(cti.store.variables.v_current_job_index,1);\n\t\t  cti.store.variables.v_json_notes.splice(cti.store.variables.v_current_job_index,1);\n\t\t  cti.store.variables.v_json_all_history_jobs.splice(cti.store.variables.v_current_job_index,1);\n\t\t  cti.store.variables.v_json_all_other_jobs.splice(cti.store.variables.v_current_job_index,1);\n\t\t  cti.store.variables.v_current_job_index = 0;\n          cti.store.variables.v_in_progress = false;\n        }\n        cti.utils.updatePage();        \n\t  }      \n      else if (operationName == 'close')\n      {\n        cti.store.variables.v_show_latereason = false;\n        cti.store.pages.leave_site.radio_close_notf = 'N';\n\t\tcti.store.pages.leave_site.date_leave = null;\n\t\tdocument.querySelector('#date_leave input[type=\"text\"]').value = '';\n\t\tdocument.querySelector('input[id=\"id_time_leave\"]').value = '';\n        cti.store.variables.v_time = '';\t\n        cti.store.pages.leave_site.select_object = '';\n\t\tcti.store.pages.leave_site.select_cause = '';\n\t\tcti.store.pages.leave_site.select_decision = '';\n\t\tcti.store.pages.leave_site.select_latereason = '';\n        cti.store.pages.leave_site.text_clearwith = '';\n        cti.store.pages.leave_site.text_custclear = '';\n        cti.store.pages.leave_site.radio_escalate = 'N';  \n        cti.store.variables.v_onroutedate = '';\n\t\tcti.store.variables.v_onroutetime = '';\n\t\tcti.store.variables.v_onsitedate = '';\n\t\tcti.store.variables.v_onsitetime = '';\n        if (cti.store.variables.v_current_job_index > -1)\n        {\n          cti.store.variables.v_json_jobs.splice(cti.store.variables.v_current_job_index,1);\n\t\t  cti.store.variables.v_json_work_instructions.splice(cti.store.variables.v_current_job_index,1);\n\t\t  cti.store.variables.v_json_notes.splice(cti.store.variables.v_current_job_index,1);\n\t\t  cti.store.variables.v_json_all_history_jobs.splice(cti.store.variables.v_current_job_index,1);\n\t\t  cti.store.variables.v_json_all_other_jobs.splice(cti.store.variables.v_current_job_index,1);\n\t\t  cti.store.variables.v_current_job_index = 0;\n          cti.store.variables.v_in_progress = false;\n        }\n        cti.utils.updatePage();\n      }      \n      console.log('return '+operationName+' data:',JSON.parse(jdata).data.E_MESSAGE.item[0].MSG);\n\n      cti.utils.callAction('show-notification', {\"options\": { \"schedule\": false, \"dynamic\": true }, \"name\": \"send_success\", \"title\": \"\", \"text\": operationName.toUpperCase()+\" data has been sent. Result: \"+JSON.parse(jdata).data.E_MESSAGE.item[0].MSG});\n    }\n    else\n    { \n      if (JSON.parse(jdata).error != null)\n      { \n\t\tconsole.log('return '+operationName+' send error:',JSON.parse(jdata).error.body);\n      \tcti.utils.callAction('show-notification', {\"options\": { \"schedule\": false, \"dynamic\": true }, \"name\": \"send_error\", \"title\": \"Error Sending Data\", \"text\": operationName.toUpperCase()+\" data failed to reach SAP. Error: \"+JSON.parse(jdata).error.body});        \n      }\n      else if (JSON.parse(jdata).data.E_MESSAGE.item.length > 1 && JSON.parse(jdata).error == null)\n\t  {    \n        if (operationName == 'onRoute')\n      \t{\n        \tcti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].sent_onroute = '0';\n      \t}\n      \telse if (operationName == 'onSite')\n      \t{\n        \tcti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].sent_onsite = '0';\n      \t}\n        else if (operationName == 'addNote')\n      \t{\n        \tcti.store.variables.v_json_jobs[cti.store.variables.v_current_job_index].sent_notes = '0';\n      \t}\n        \n      \tconsole.log('return '+operationName+' error:',JSON.parse(jdata).data.E_MESSAGE.item[0].MSG);\n\t\tcti.utils.callAction('show-notification', {\"options\": { \"schedule\": false, \"dynamic\": true }, \"name\": \"send_error\", \"title\": operationName.toUpperCase()+\" Error\", \"text\": JSON.parse(jdata).data.E_MESSAGE.item[0].MSG});\n\t  }\n    }\n    return false;\n  }\n  return true;\n}\n","actions":[]},{"name":"timer_conn_check","type":"script","item-type":"timer","_auto_id_":"d9c359da-4036-4b8a-8a62-7ce718e1d1da","timer-type":"interval","time":"5000","actions":[{"event":"click","type":"call-actionflow","data":{"name":"check_connection"},"_auto_id_":"596f22a1-89f1-4413-9253-f04760c3cfbd"}]},{"name":"loading_spinner","type":"script","item-type":"variable","_auto_id_":"d965b2aa-6f33-4f8d-aee0-de50c4109836","variable-type":"boolean","value":"false"},{"name":"v_contact_no","type":"script","item-type":"variable","variable-type":"string","$selected":false,"_auto_id_":"ae884fdc-5a58-4b33-aec4-2fa65c656896"},{"name":"v_current_job_index","type":"script","item-type":"variable","variable-type":"int","$selected":false,"_auto_id_":"276c0ba6-caa6-42b2-adcf-3892e2e05101"},{"name":"v_current_ojob_index","type":"script","item-type":"variable","variable-type":"int","$selected":false,"_auto_id_":"b801b700-0aad-4ccf-8738-b2c7b9abe0ac"},{"name":"v_current_hjob_index","type":"script","item-type":"variable","variable-type":"int","$selected":false,"_auto_id_":"e85cf52d-ac42-4a24-88fd-2f5ce7f77686"},{"name":"v_disable_startbutton","type":"script","item-type":"variable","_auto_id_":"5005ebbb-bf50-4b56-aa07-a3b521941dc8","variable-type":"boolean","value":"false"},{"name":"v_engineerno","type":"script","item-type":"variable","variable-type":"string","$selected":false,"_auto_id_":"8778cce7-2302-45de-b57e-f501f7d573be"},{"name":"v_error_retrieve","type":"script","item-type":"variable","_auto_id_":"b3bdede9-0cf8-4c8a-936c-5f05adb231c0","variable-type":"boolean","value":"false"},{"name":"v_from_page","type":"script","item-type":"variable","variable-type":"string","$selected":false,"_auto_id_":"40ca5399-c692-460f-8a73-6d8fee271834"},{"name":"v_in_progress","type":"script","item-type":"variable","_auto_id_":"0dc77a14-3af8-46ea-a932-29d672ab21bc","variable-type":"boolean","value":"false"},{"name":"v_json_add_part","type":"script","item-type":"variable","_auto_id_":"ab6f6efd-9cba-4155-8b7f-919402ea17ac","variable-type":"string"},{"name":"v_json_all_history_jobs","type":"script","item-type":"variable","_auto_id_":"a780099d-8ace-42e9-b94c-01e4501fceda","variable-type":"string"},{"name":"v_json_all_other_jobs","type":"script","item-type":"variable","_auto_id_":"71c41a7b-13cf-4a07-8e44-2b67d0c26d82","variable-type":"string"},{"name":"v_json_all_parts","type":"script","item-type":"variable","_auto_id_":"c1ff68a5-3153-47df-a648-28b64c7c0929","variable-type":"string"},{"name":"v_json_cause","type":"script","item-type":"variable","variable-type":"string","_auto_id_":"2eb749cb-f82d-4b11-a998-66d93d3a552a"},{"name":"v_json_cause_filtered","type":"script","item-type":"variable","_auto_id_":"ab139baa-0d69-4477-99e4-34aa81c8055f","variable-type":"string"},{"name":"v_json_latereason","type":"script","item-type":"variable","variable-type":"string","_auto_id_":"4d2d0546-d57b-4883-ad2c-f6201efa0160"},{"name":"v_json_decision","type":"script","item-type":"variable","variable-type":"string","_auto_id_":"b189def6-046e-431c-9023-247152151833"},{"name":"v_json_decision_filtered","type":"script","item-type":"variable","_auto_id_":"fb01472b-be29-4e23-9bbc-7ac37cf05f51","variable-type":"string"},{"name":"v_json_deltime","type":"script","item-type":"variable","_auto_id_":"d5eb19ab-1f5d-43a1-8178-f1ca9f265203","variable-type":"string"},{"name":"v_json_enter_notes","type":"script","item-type":"variable","_auto_id_":"13f98663-73e3-49ca-9a03-5500b4c253c5","variable-type":"string"},{"name":"v_json_group","type":"script","item-type":"variable","_auto_id_":"23506114-f690-4b24-bef7-f17ee63ead7c","variable-type":"string"},{"name":"v_json_history_jobs","type":"script","item-type":"variable","variable-type":"string","$selected":false,"_auto_id_":"1b2ea475-6064-48c8-aa99-f3b855634477"},{"name":"v_json_notes","type":"script","item-type":"variable","_auto_id_":"4c654b0c-3c2b-47f7-80e0-93d5b21da5c9","variable-type":"string"},{"name":"v_json_jobs","type":"script","item-type":"variable","variable-type":"string","$selected":false,"_auto_id_":"5c9ee130-95e0-492b-81e5-cac342d142cd"},{"name":"v_json_object","type":"script","item-type":"variable","variable-type":"string","_auto_id_":"af00f79a-f589-4a4b-b503-d57697b8a264"},{"name":"v_json_object_filtered","type":"script","item-type":"variable","_auto_id_":"595571e6-9768-4104-91b7-6fd82a60f5a8","variable-type":"string"},{"name":"v_json_other_jobs","type":"script","item-type":"variable","variable-type":"string","$selected":false,"_auto_id_":"fc38027f-c212-4987-b923-f31a1510cf75"},{"name":"v_json_part","type":"script","item-type":"variable","variable-type":"string","$selected":false,"_auto_id_":"b3080caa-0c72-474b-a1e2-ab7aa4c2dfe2"},{"name":"v_json_partnumber","type":"script","item-type":"variable","_auto_id_":"f1886a26-dcf7-4659-a4b8-8470c69d4dcf","variable-type":"string"},{"name":"v_json_work_instructions","type":"script","item-type":"variable","_auto_id_":"36bf589a-7bd3-492e-bc49-156627e39337","variable-type":"string"},{"name":"v_logging_out","type":"script","item-type":"variable","_auto_id_":"e14bc930-865d-4800-a96f-68d9016d3267","variable-type":"boolean","value":"false"},{"name":"v_notes","type":"script","item-type":"variable","variable-type":"string","$selected":false,"_auto_id_":"7dcfe9ba-91f5-4647-bcb2-b25bea8bf3f2"},{"name":"v_onroutedate","type":"script","item-type":"variable","variable-type":"string","$selected":false,"_auto_id_":"8221e70d-1c28-4ed5-a4fd-a50dc094aa7f"},{"name":"v_onroutetime","type":"script","item-type":"variable","variable-type":"string","$selected":false,"_auto_id_":"30feb040-9c58-4b1a-b903-d2e048059b9e"},{"name":"v_onsitedate","type":"script","item-type":"variable","_auto_id_":"14bd1500-4e6d-4d35-af2a-0aa36dd35cd4","variable-type":"string"},{"name":"v_onsitetime","type":"script","item-type":"variable","_auto_id_":"cfd40ee1-85d5-4866-9aad-1dd351a9f6c3","variable-type":"string"},{"name":"v_onsite","type":"script","item-type":"variable","variable-type":"int","value":"0","$selected":false,"_auto_id_":"e6eae93d-12d0-4d76-9f77-e377c094f9ee"},{"name":"v_operationno","type":"script","item-type":"variable","variable-type":"string","$selected":false,"_auto_id_":"5ebce4be-51f1-4e79-8d3c-0c1b99cd2026"},{"name":"v_sent_onroute","type":"script","item-type":"variable","variable-type":"int","value":"0","$selected":false,"_auto_id_":"90ce6a5a-efda-4a0f-86cd-1cbe8d697aad"},{"name":"v_show_latereason","type":"script","item-type":"variable","_auto_id_":"a94ab824-9bd0-4114-8311-981a1a0e84f0","variable-type":"boolean","value":"false"},{"name":"v_time","type":"script","item-type":"variable","_auto_id_":"654e5532-ae2c-4371-8dfa-cd37f22520eb","variable-type":"string"},{"name":"v_user_name","type":"script","item-type":"variable","_auto_id_":"e7d30aac-b039-4c09-8dba-346b394d49cc","variable-type":"string"},{"name":"v_version_number","type":"script","item-type":"variable","_auto_id_":"a42bbb78-6e03-4fbc-bd4f-46f2d1fc83cc","variable-type":"string","value":"1.0.0"},{"name":"v_work_instruction","type":"script","item-type":"variable","variable-type":"string","$selected":false,"_auto_id_":"0e6f245a-34f2-400d-95db-25c1f5b4154c"}],"components":[],"$hover":false,"language":{"defaultLocale":"en_GB","initialLanguage":"","useDeviceLocale":true},"actionflows":[{"content":[{"event":"click","type":"stop-timer","data":{"name":"timer_conn_check"},"_auto_id_":"fbb96543-7c27-48ff-9525-b4916701c7c2"},{"event":"click","type":"set-variable","data":{"name":"loading_spinner","value":"true"},"_auto_id_":"769acf83-0563-4604-8e2b-586856b5fc72"},{"event":"click","type":"set-variable","data":{"name":"v_logging_out","value":"false"},"_auto_id_":"c2ddae14-e08f-4d4a-81a1-f2afefee3f18"},{"event":"click","type":"set-variable","data":{"name":"v_disable_startbutton","value":"true"},"_auto_id_":"2258311c-e61b-467d-8039-b7dbaf660e62"},{"event":"click","type":"xmpp-login","data":{"name":"xmpp_1","username":"{{$store.pages.start_screen.text_login}}@mitel.com","password":"{{$store.pages.start_screen.password_login}}"},"_auto_id_":"9cc12151-56a4-4280-bda3-a6877785f815"},{"type":"if","data":{},"_auto_id_":"67cfd4a1-100b-4085-8d80-58c0166ce69d","operations":[{"type":"value","content":"{{$store.xmpp.xmpp_1.last_auth_status}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"success","$selected":false}]},{"event":"click","type":"call-function","data":{"name":"f_getstatcidata","params":{"operationName":"getDeliveryTime"}},"_auto_id_":"cac97c08-4242-4914-89ef-de8a23c16a8b"},{"event":"click","type":"call-function","data":{"name":"f_getstatcidata","params":{"operationName":"getLateReason"}},"_auto_id_":"99b9d337-9978-42d8-82c5-333515e09c2b"},{"event":"click","type":"call-function","data":{"name":"f_getstatcidata","params":{"operationName":"getObject"}},"_auto_id_":"c1b01440-6c45-48e6-9b0e-b917d013450f"},{"event":"click","type":"call-function","data":{"name":"f_getstatcidata","params":{"operationName":"getCause"}},"_auto_id_":"f172157d-830a-4f44-8137-171f7baea3ee"},{"event":"click","type":"call-function","data":{"name":"f_getstatcidata","params":{"operationName":"getDecision"}},"_auto_id_":"c62352e3-5d02-4044-ba40-20edfabe41ba"},{"event":"click","type":"call-function","data":{"name":"f_getstatcidata","params":{"operationName":"getGroup"}},"_auto_id_":"ee8d50e6-e16e-4aca-bed0-66afb93554fa"},{"event":"click","type":"call-function","data":{"name":"f_getstatcidata","params":{"operationName":"getAllParts"}},"_auto_id_":"5258bea9-d65e-49d3-9010-cb0d29b3a420"},{"event":"click","type":"call-function","data":{"name":"f_getdata","params":{"operationName":"getServiceOrder","userName":"{{$store.pages.start_screen.text_login}}"}},"_auto_id_":"825c46d2-0e06-4223-81f4-6728bd625a21"},{"event":"click","type":"call-function","data":{"name":"f_getdata","params":{"userName":"{{$store.pages.start_screen.text_login}}","operationName":"getWorkInstruction"}},"_auto_id_":"0deee82c-75ea-4199-8e3f-1ce3c2c6748f"},{"event":"click","type":"call-function","data":{"name":"f_getdata","params":{"operationName":"getNoteText","userName":"{{$store.pages.start_screen.text_login}}"}},"_auto_id_":"a92c201d-d409-49a3-b99a-b281c95cdac4"},{"event":"click","type":"call-function","data":{"name":"f_getdata","params":{"userName":"{{$store.pages.start_screen.text_login}}","operationName":"getHistoryJob"}},"_auto_id_":"ea95e18a-0e62-4d1a-91fb-6710b7551c7b"},{"event":"click","type":"call-function","data":{"name":"f_getdata","params":{"operationName":"getOtherJob","userName":"{{$store.pages.start_screen.text_login}}"}},"_auto_id_":"6e01b4ab-eec2-46dd-9c1e-764a59c9e0c6"},{"event":"click","type":"call-function","data":{"name":"f_add_listener"},"_auto_id_":"9474cf8e-8208-45af-994b-2b6f5b1531d7"},{"event":"click","type":"start-timer","data":{"name":"timer_conn_check"},"_auto_id_":"b80af729-9783-4689-9b1b-bb6dd2d8dd42"},{"event":"click","type":"go-to-page","data":"notifications","_auto_id_":"526e32dc-ac22-4323-8c9a-27d33829dd15"},{"type":"otherwise","data":{},"_auto_id_":"e2fe6d8e-2e60-4aa2-8e22-f9d0fd5eff9b"},{"event":"click","type":"set-variable","data":{"name":"loading_spinner","value":"false"},"_auto_id_":"955ae2ff-eca5-4a7c-b81a-c9868ab31c00"},{"event":"click","type":"set-variable","data":{"name":"v_disable_startbutton","value":"false"},"_auto_id_":"54987fe9-aa39-4321-b14e-85f39c3bb2b9"},{"event":"click","type":"show-notification","data":{"options":{"schedule":false,"dynamic":true},"name":"login_failure"},"_auto_id_":"5965613d-28fa-4137-a3dc-1b08066bf86d"},{"type":"end-if","data":{},"_auto_id_":"9bd1c490-5c21-444d-8b8d-60515030409e"}],"name":"login_actions"},{"content":[{"type":"if","data":{},"_auto_id_":"a48baac8-2ab1-4ae2-8796-1e0951d9dedb","operations":[{"type":"value","content":"{{$store.xmpp.xmpp_1.connection_status}}","$selected":false},{"type":"operator","content":"!=","$selected":false},{"type":"value","content":"connected","$selected":false}]},{"event":"click","type":"xmpp-login","data":{"name":"xmpp_1","username":"{{$store.pages.start_screen.text_login}}@mitel.com","password":"{{$store.pages.start_screen.password_login}}"},"_auto_id_":"fe3c1f35-3d3a-4985-a179-10bb339105a6"},{"type":"end-if","data":{},"_auto_id_":"0cfc1186-61f6-4b2a-996c-462d757b21b1"}],"name":"check_connection"}],"dataflows":[],"schemaVersion":5,"lastSchemaUpgradeDate":"Tue Sep 06 2016 11:52:10 GMT+0100 (GMT Daylight Time)","metadata":{},"icondata":"mitel_app_icon.png","splashdata":{},"splash":"default","hostContext":0}